<!DOCTYPE html>
<html><head>
			
		<title>Chapter 7 Modules</title>
		<base href="../../../">
		<meta id="root-path" root-path="../../../">

		<link rel="icon" sizes="96x96" href="https://publish-01.obsidian.md/access/f786db9fac45774fa4f0d8112e232d67/favicon-96x96.png">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<script src="https://code.iconify.design/iconify-icon/1.0.3/iconify-icon.min.js"></script>

			<link rel="stylesheet" href="lib/styles/obsidian-styles.css">
			<link rel="stylesheet" href="lib/styles/theme.css">
			<link rel="stylesheet" href="lib/styles/plugin-styles.css">
			<link rel="stylesheet" href="lib/styles/snippets.css">
			<style>  </style>

			
			<!-- Graph View Data -->
			<script>
			let nodes=
{"nodeCount":22,"linkCount":21,"radii":[7,5.346938775510203,4.855867346938775,4.301020408163265,3.6823979591836737,3.6823979591836737,3.6823979591836737,3.6823979591836737,3.6823979591836737,3.6823979591836737,3.6823979591836737,3.6823979591836737,3.6823979591836737,3.6823979591836737,3.6823979591836737,3.6823979591836737,3.6823979591836737,3.6823979591836737,3.6823979591836737,3.6823979591836737,3.6823979591836737,3.6823979591836737],"labels":["Table Of Content","Отчеты","README","README","О Haskell по-человечески (Итого)","Полезные ресурсы","О Haskell по-человечески (Оригинал)","Оглавление","Chapter 13 For a Few Monads More","Chapter 12 A Fistful of Monads","Chapter 11 Functors, Applicative Functors and Monoids","Chapter 10 Functionally Solving Problems","Chapter 9 Input and Output","Chapter 8 Making Our Own Types and Typeclasses","Chapter 7 Modules","Chapter 6 Higher order functions","Chapter 5 Recursion","Chapter 4 Syntax in Functions","Chapter 14 Zippers","Chapter 1 Introduction","Chapter 2 Starting Out","Chapter 3 Types and Typeclasses"],"paths":["курсы/learn-you-a-haskell-for-great-good!/en/table-of-content.html","отчеты.html","курсы/learn-you-a-haskell-for-great-good!/readme.html","readme.html","мои-решения/о-haskell-по-человечески/о-haskell-по-человечески-(итого).html","полезные-ресурсы.html","курсы/о-haskell-по-человечески/о-haskell-по-человечески-(оригинал).html","курсы/learn-you-a-haskell-for-great-good!/ru/оглавление.html","курсы/learn-you-a-haskell-for-great-good!/en/chapter-13-for-a-few-monads-more.html","курсы/learn-you-a-haskell-for-great-good!/en/chapter-12-a-fistful-of-monads.html","курсы/learn-you-a-haskell-for-great-good!/en/chapter-11-functors,-applicative-functors-and-monoids.html","курсы/learn-you-a-haskell-for-great-good!/en/chapter-10-functionally-solving-problems.html","курсы/learn-you-a-haskell-for-great-good!/en/chapter-9-input-and-output.html","курсы/learn-you-a-haskell-for-great-good!/en/chapter-8-making-our-own-types-and-typeclasses.html","курсы/learn-you-a-haskell-for-great-good!/en/chapter-7-modules.html","курсы/learn-you-a-haskell-for-great-good!/en/chapter-6-higher-order-functions.html","курсы/learn-you-a-haskell-for-great-good!/en/chapter-5-recursion.html","курсы/learn-you-a-haskell-for-great-good!/en/chapter-4-syntax-in-functions.html","курсы/learn-you-a-haskell-for-great-good!/en/chapter-14-zippers.html","курсы/learn-you-a-haskell-for-great-good!/en/chapter-1-introduction.html","курсы/learn-you-a-haskell-for-great-good!/en/chapter-2-starting-out.html","курсы/learn-you-a-haskell-for-great-good!/en/chapter-3-types-and-typeclasses.html"],"linkSources":[3,3,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2],"linkTargets":[5,1,6,4,2,19,20,21,17,16,15,14,13,12,11,10,9,8,18,0,7]};
			let attractionForce = 1;
			let linkLength = 10;
			let repulsionForce = 150;
			let centralForce = 3;
			let edgePruning = 100;
			</script>
			
<script type="module" src="lib/scripts/graph_view.js"></script>

<script src="lib/scripts/graph_wasm.js"></script>

<script src="lib/scripts/tinycolor.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js" integrity="sha512-Ch/O6kL8BqUwAfCF7Ie5SX1Hin+BJgYH4pNjRqXdTEqMsis1TUYg+j6nnI9uduPjGaj7DN4UKCZgpvoExt6dkw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="lib/scripts/webpage.js"></script>

			</head><body class="theme-dark mod-windows is-frameless is-maximized is-hidden-frameless obsidian-app show-inline-title show-view-header" style="--zoom-factor:1; --font-text-size:16px; --line-width:100%; --line-width-adaptive:100%; --file-line-width:100%; --content-width:500em; --sidebar-width:25em; --collapse-arrow-size:0.4em; --tree-horizontal-spacing:1em; --tree-vertical-spacing:0.5em; --sidebar-margin:12px;"><div class="webpage-container"><div class="sidebar-left sidebar"><div class="sidebar-content"><div><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="tree-container file-tree mod-nav-indicator" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">learn-haskell-valut</span><button class="clickable-icon collapse-tree-button is-collapsed"><iconify-icon icon="ph:arrows-in-line-horizontal-bold" width="18px" height="18px" rotate="90deg" color="currentColor"></iconify-icon></button></div><div class="tree-scroll-area"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="1"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="курсы"><span class="tree-item-title">Курсы</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="2"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="курсы/о-haskell-по-человечески"><span class="tree-item-title">О Haskell по-человечески</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-file" data-depth="3"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/о-haskell-по-человечески/о-haskell-по-человечески-(оригинал).html"><span class="tree-item-title">О Haskell по-человечески (Оригинал)</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="2"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!"><span class="tree-item-title">Learn You a Haskell for Great Good!</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="3"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en"><span class="tree-item-title">en</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en/chapter-1-introduction.html"><span class="tree-item-title">Chapter 1 Introduction</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en/chapter-10-functionally-solving-problems.html"><span class="tree-item-title">Chapter 10 Functionally Solving Problems</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en/chapter-11-functors,-applicative-functors-and-monoids.html"><span class="tree-item-title">Chapter 11 Functors, Applicative Functors and Monoids</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en/chapter-12-a-fistful-of-monads.html"><span class="tree-item-title">Chapter 12 A Fistful of Monads</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en/chapter-13-for-a-few-monads-more.html"><span class="tree-item-title">Chapter 13 For a Few Monads More</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en/chapter-14-zippers.html"><span class="tree-item-title">Chapter 14 Zippers</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en/chapter-2-starting-out.html"><span class="tree-item-title">Chapter 2 Starting Out</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en/chapter-3-types-and-typeclasses.html"><span class="tree-item-title">Chapter 3 Types and Typeclasses</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en/chapter-4-syntax-in-functions.html"><span class="tree-item-title">Chapter 4 Syntax in Functions</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en/chapter-5-recursion.html"><span class="tree-item-title">Chapter 5 Recursion</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en/chapter-6-higher-order-functions.html"><span class="tree-item-title">Chapter 6 Higher order functions</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en/chapter-7-modules.html"><span class="tree-item-title">Chapter 7 Modules</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en/chapter-8-making-our-own-types-and-typeclasses.html"><span class="tree-item-title">Chapter 8 Making Our Own Types and Typeclasses</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en/chapter-9-input-and-output.html"><span class="tree-item-title">Chapter 9 Input and Output</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/en/table-of-content.html"><span class="tree-item-title">Table Of Content</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="3"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/ru"><span class="tree-item-title">ru</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-file" data-depth="4"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/ru/оглавление.html"><span class="tree-item-title">Оглавление</span></a></div><div class="tree-item-children"></div></div></div></div><div class="tree-item mod-tree-file" data-depth="3"><div class="tree-item-contents"><a class="tree-item-link" href="курсы/learn-you-a-haskell-for-great-good!/readme.html"><span class="tree-item-title">README</span></a></div><div class="tree-item-children"></div></div></div></div></div></div><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="1"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="мои-решения"><span class="tree-item-title">Мои решения</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-folder mod-collapsible is-collapsed" data-depth="2"><div class="tree-item-contents"><div class="tree-item-icon collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><a class="tree-item-link" href="мои-решения/о-haskell-по-человечески"><span class="tree-item-title">О Haskell по-человечески</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-file" data-depth="3"><div class="tree-item-contents"><a class="tree-item-link" href="мои-решения/о-haskell-по-человечески/о-haskell-по-человечески-(итого).html"><span class="tree-item-title">О Haskell по-человечески (Итого)</span></a></div><div class="tree-item-children"></div></div></div></div></div></div><div class="tree-item mod-tree-file" data-depth="1"><div class="tree-item-contents"><a class="tree-item-link" href="отчеты.html"><span class="tree-item-title">Отчеты</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="1"><div class="tree-item-contents"><a class="tree-item-link" href="полезные-ресурсы.html"><span class="tree-item-title">Полезные ресурсы</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="1"><div class="tree-item-contents"><a class="tree-item-link" href="readme.html"><span class="tree-item-title">README</span></a></div><div class="tree-item-children"></div></div></div></div></div></div><div class="document-container"><div class="markdown-preview-view markdown-rendered node-insert-event allow-fold-headings show-indentation-guide allow-fold-lists show-frontmatter" style="tab-size: 4;" tabindex="-1"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section" style="padding-bottom: ; padding-top: var(--file-margins); padding-right: var(--file-margins); padding-left: var(--file-margins); width: 100%; position: absolute;"><div class="markdown-preview-pusher" style="width: 1px; height: 0.1px; margin-bottom: 0px;"></div><div class="mod-header"></div><div><h1 data-heading="Modules" id="Modules">Modules</h1></div><div><h2 data-heading="Loading modules" id="Loading_modules" style="display: flex;"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Loading modules</h2></div><div><p><img alt="modules" src="http://s3.amazonaws.com/lyah/modules.png" referrerpolicy="no-referrer"></p></div><div><p>A Haskell module is a collection of related functions, types and typeclasses. A Haskell program is a collection of modules where the main module loads up the other modules and then uses the functions defined in them to do something. Having code split up into several modules has quite a lot of advantages. If a module is generic enough, the functions it exports can be used in a multitude of different programs. If your own code is separated into self-contained modules which don't rely on each other too much (we also say they are loosely coupled), you can reuse them later on. It makes the whole deal of writing code more manageable by having it split into several parts, each of which has some sort of purpose.</p></div><div><p>The Haskell standard library is split into modules, each of them contains functions and types that are somehow related and serve some common purpose. There's a module for manipulating lists, a module for concurrent programming, a module for dealing with complex numbers, etc. All the functions, types and typeclasses that we've dealt with so far were part of the&nbsp;<code>Prelude</code>&nbsp;module, which is imported by default. In this chapter, we're going to examine a few useful modules and the functions that they have. But first, we're going to see how to import modules.</p></div><div><p>The syntax for importing modules in a Haskell script is&nbsp;<code>import &lt;module name&gt;</code>. This must be done before defining any functions, so imports are usually done at the top of the file. One script can, of course, import several modules. Just put each import statement into a separate line. Let's import the&nbsp;<code>Data.List</code>&nbsp;module, which has a bunch of useful functions for working with lists and use a function that it exports to create a function that tells us how many unique elements a list has.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token import-statement"><span class="token keyword">import</span> Data<span class="token punctuation">.</span>List</span>

<span class="token hvariable">numUniques</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Eq</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Int</span>
<span class="token hvariable">numUniques</span> <span class="token operator">=</span> <span class="token builtin">length</span> <span class="token operator">.</span> <span class="token hvariable">nub</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>When you do&nbsp;<code>import Data.List</code>, all the functions that&nbsp;<code>Data.List</code>&nbsp;exports become available in the global namespace, meaning that you can call them from wherever in the script.&nbsp;<code>nub</code>&nbsp;is a function defined in&nbsp;<code>Data.List</code>&nbsp;that takes a list and weeds out duplicate elements. Composing&nbsp;<code>length</code>&nbsp;and&nbsp;<code>nub</code>&nbsp;by doing&nbsp;<code>length . nub</code>&nbsp;produces a function that's the equivalent of&nbsp;<code>\xs -&gt; length (nub xs)</code>.</p></div><div><p>You can also put the functions of modules into the global namespace when using GHCI. If you're in GHCI and you want to be able to call the functions exported by&nbsp;<code>Data.List</code>, do this:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token operator">:</span><span class="token hvariable">m</span> <span class="token operator">+</span> <span class="token constant">Data<span class="token punctuation">.</span>List</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>If we want to load up the names from several modules inside GHCI, we don't have to do&nbsp;<code>:m +</code>&nbsp;several times, we can just load up several modules at once.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token operator">:</span><span class="token hvariable">m</span> <span class="token operator">+</span> <span class="token constant">Data<span class="token punctuation">.</span>List</span> <span class="token constant">Data<span class="token punctuation">.</span>Map</span> <span class="token constant">Data<span class="token punctuation">.</span>Set</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>However, if you've loaded a script that already imports a module, you don't need to use&nbsp;<code>:m +</code>&nbsp;to get access to it.</p></div><div><p>If you just need a couple of functions from a module, you can selectively import just those functions. If we wanted to import only the&nbsp;<code>nub</code>&nbsp;and&nbsp;<code>sort</code>&nbsp;functions from&nbsp;<code>Data.List</code>, we'd do this:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token import-statement"><span class="token keyword">import</span> Data<span class="token punctuation">.</span>List</span> <span class="token punctuation">(</span><span class="token hvariable">nub</span><span class="token punctuation">,</span> <span class="token builtin">sort</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>You can also choose to import all of the functions of a module except a few select ones. That's often useful when several modules export functions with the same name and you want to get rid of the offending ones. Say we already have our own function that's called&nbsp;<code>nub</code>&nbsp;and we want to import all the functions from&nbsp;<code>Data.List</code>&nbsp;except the&nbsp;<code>nub</code>&nbsp;function:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token import-statement"><span class="token keyword">import</span> Data<span class="token punctuation">.</span>List <span class="token keyword">hiding</span></span> <span class="token punctuation">(</span><span class="token hvariable">nub</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Another way of dealing with name clashes is to do qualified imports. The&nbsp;<code>Data.Map</code>&nbsp;module, which offers a data structure for looking up values by key, exports a bunch of functions with the same name as&nbsp;<code>Prelude</code>&nbsp;functions, like&nbsp;<code>filter</code>&nbsp;or&nbsp;<code>null</code>. So when we import&nbsp;<code>Data.Map</code>&nbsp;and then call&nbsp;<code>filter</code>, Haskell won't know which function to use. Here's how we solve this:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token import-statement"><span class="token keyword">import</span> <span class="token keyword">qualified</span> Data<span class="token punctuation">.</span>Map</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>This makes it so that if we want to reference&nbsp;<code>Data.Map</code>'s&nbsp;<code>filter</code>&nbsp;function, we have to do&nbsp;<code>Data.Map.filter</code>, whereas just&nbsp;<code>filter</code>&nbsp;still refers to the normal&nbsp;<code>filter</code>&nbsp;we all know and love. But typing out&nbsp;<code>Data.Map</code>&nbsp;in front of every function from that module is kind of tedious. That's why we can rename the qualified import to something shorter:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token import-statement"><span class="token keyword">import</span> <span class="token keyword">qualified</span> Data<span class="token punctuation">.</span>Map <span class="token keyword">as</span> M</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Now, to reference&nbsp;<code>Data.Map</code>'s&nbsp;<code>filter</code>&nbsp;function, we just use&nbsp;<code>M.filter</code>.</p></div><div><p>Use&nbsp;<a data-tooltip-position="top" aria-label="http://www.haskell.org/ghc/docs/latest/html/libraries/" rel="noopener" class="external-link" href="http://www.haskell.org/ghc/docs/latest/html/libraries/" target="_blank">this handy reference</a>&nbsp;to see which modules are in the standard library. A great way to pick up new Haskell knowledge is to just click through the standard library reference and explore the modules and their functions. You can also view the Haskell source code for each module. Reading the source code of some modules is a really good way to learn Haskell and get a solid feel for it.</p></div><div><p>To search for functions or to find out where they're located, use&nbsp;<a data-tooltip-position="top" aria-label="http://haskell.org/hoogle" rel="noopener" class="external-link" href="http://haskell.org/hoogle" target="_blank">Hoogle</a>. It's a really awesome Haskell search engine, you can search by name, module name or even type signature.</p></div><div><h2 data-heading="Data.List" id="Data.List" style="display: flex;"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Data.List</h2></div><div><p>The&nbsp;<code>Data.List</code>&nbsp;module is all about lists, obviously. It provides some very useful functions for dealing with them. We've already met some of its functions (like&nbsp;<code>map</code>&nbsp;and&nbsp;<code>filter</code>) because the&nbsp;<code>Prelude</code>&nbsp;module exports some functions from&nbsp;<code>Data.List</code>&nbsp;for convenience. You don't have to import&nbsp;<code>Data.List</code>&nbsp;via a qualified import because it doesn't clash with any&nbsp;<code>Prelude</code>&nbsp;names except for those that&nbsp;<code>Prelude</code>&nbsp;already steals from&nbsp;<code>Data.List</code>. Let's take a look at some of the functions that we haven't met before.</p></div><div><p><code>intersperse</code>&nbsp;takes an element and a list and then puts that element in between each pair of elements in the list. Here's a demonstration:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">intersperse</span> <span class="token char string">'.'</span> <span class="token string">"MONKEY"</span>
<span class="token string">"M.O.N.K.E.Y"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">intersperse</span> <span class="token number">0</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>intercalate</code>&nbsp;takes a list of lists and a list. It then inserts that list in between all those lists and then flattens the result.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">intercalate</span> <span class="token string">" "</span> <span class="token punctuation">[</span><span class="token string">"hey"</span><span class="token punctuation">,</span><span class="token string">"there"</span><span class="token punctuation">,</span><span class="token string">"guys"</span><span class="token punctuation">]</span>
<span class="token string">"hey there guys"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">intercalate</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>transpose</code>&nbsp;transposes a list of lists. If you look at a list of lists as a 2D matrix, the columns become the rows and vice versa.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">transpose</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">transpose</span> <span class="token punctuation">[</span><span class="token string">"hey"</span><span class="token punctuation">,</span><span class="token string">"there"</span><span class="token punctuation">,</span><span class="token string">"guys"</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token string">"htg"</span><span class="token punctuation">,</span><span class="token string">"ehu"</span><span class="token punctuation">,</span><span class="token string">"yey"</span><span class="token punctuation">,</span><span class="token string">"rs"</span><span class="token punctuation">,</span><span class="token string">"e"</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Say we have the polynomials&nbsp;<em>3x2&nbsp;+ 5x + 9</em>,&nbsp;<em>10x3&nbsp;+ 9</em>&nbsp;and&nbsp;<em>8x3&nbsp;+ 5x2&nbsp;+ x - 1</em>&nbsp;and we want to add them together. We can use the lists&nbsp;<code>[0,3,5,9]</code>,&nbsp;<code>[10,0,0,9]</code>&nbsp;and&nbsp;<code>[8,5,1,-1]</code>&nbsp;to represent them in Haskell. Now, to add them, all we have to do is this:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token builtin">sum</span> <span class="token operator">$</span> <span class="token hvariable">transpose</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>When we transpose these three lists, the third powers are then in the first row, the second powers in the second one and so on. Mapping&nbsp;<code>sum</code>&nbsp;to that produces our desired result.</p></div><div><p><img alt="shopping lists" src="http://s3.amazonaws.com/lyah/legolists.png" referrerpolicy="no-referrer"></p></div><div><p><code>foldl'</code>&nbsp;and&nbsp;<code>foldl1'</code>&nbsp;are stricter versions of their respective lazy incarnations. When using lazy folds on really big lists, you might often get a stack overflow error. The culprit for that is that due to the lazy nature of the folds, the accumulator value isn't actually updated as the folding happens. What actually happens is that the accumulator kind of makes a promise that it will compute its value when asked to actually produce the result (also called a thunk). That happens for every intermediate accumulator and all those thunks overflow your stack. The strict folds aren't lazy buggers and actually compute the intermediate values as they go along instead of filling up your stack with thunks. So if you ever get stack overflow errors when doing lazy folds, try switching to their strict versions.</p></div><div><p><code>concat</code>&nbsp;flattens a list of lists into just a list of elements.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">concat</span> <span class="token punctuation">[</span><span class="token string">"foo"</span><span class="token punctuation">,</span><span class="token string">"bar"</span><span class="token punctuation">,</span><span class="token string">"car"</span><span class="token punctuation">]</span>
<span class="token string">"foobarcar"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">concat</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>It will just remove one level of nesting. So if you want to completely flatten&nbsp;<code>[[[2,3],[3,4,5],[2]],[[2,3],[3,4]]]</code>, which is a list of lists of lists, you have to concatenate it twice.</p></div><div><p>Doing&nbsp;<code>concatMap</code>&nbsp;is the same as first mapping a function to a list and then concatenating the list with&nbsp;<code>concat</code>.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">concatMap</span> <span class="token punctuation">(</span><span class="token builtin">replicate</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>and</code>&nbsp;takes a list of boolean values and returns&nbsp;<code>True</code>&nbsp;only if all the values in the list are&nbsp;<code>True</code>.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">and</span> <span class="token operator">$</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">and</span> <span class="token operator">$</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token constant">False</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>or</code>&nbsp;is like&nbsp;<code>and</code>, only it returns&nbsp;<code>True</code>&nbsp;if any of the boolean values in a list is&nbsp;<code>True</code>.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">or</span> <span class="token operator">$</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">or</span> <span class="token operator">$</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token constant">False</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>any</code>&nbsp;and&nbsp;<code>all</code>&nbsp;take a predicate and then check if any or all the elements in a list satisfy the predicate, respectively. Usually we use these two functions instead of mapping over a list and then doing&nbsp;<code>and</code>&nbsp;or&nbsp;<code>or</code>.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">any</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">all</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">all</span> <span class="token punctuation">(</span><span class="token operator">`elem`</span> <span class="token punctuation">[</span><span class="token char string">'A'</span><span class="token operator">..</span><span class="token char string">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token string">"HEYGUYSwhatsup"</span>
<span class="token constant">False</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">any</span> <span class="token punctuation">(</span><span class="token operator">`elem`</span> <span class="token punctuation">[</span><span class="token char string">'A'</span><span class="token operator">..</span><span class="token char string">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token string">"HEYGUYSwhatsup"</span>
<span class="token constant">True</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>iterate</code>&nbsp;takes a function and a starting value. It applies the function to the starting value, then it applies that function to the result, then it applies the function to that result again, etc. It returns all the results in the form of an infinite list.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">take</span> <span class="token number">10</span> <span class="token operator">$</span> <span class="token builtin">iterate</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">64</span><span class="token punctuation">,</span><span class="token number">128</span><span class="token punctuation">,</span><span class="token number">256</span><span class="token punctuation">,</span><span class="token number">512</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">take</span> <span class="token number">3</span> <span class="token operator">$</span> <span class="token builtin">iterate</span> <span class="token punctuation">(</span><span class="token operator">++</span> <span class="token string">"haha"</span><span class="token punctuation">)</span> <span class="token string">"haha"</span>
<span class="token punctuation">[</span><span class="token string">"haha"</span><span class="token punctuation">,</span><span class="token string">"hahahaha"</span><span class="token punctuation">,</span><span class="token string">"hahahahahaha"</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>splitAt</code>&nbsp;takes a number and a list. It then splits the list at that many elements, returning the resulting two lists in a tuple.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">splitAt</span> <span class="token number">3</span> <span class="token string">"heyman"</span>
<span class="token punctuation">(</span><span class="token string">"hey"</span><span class="token punctuation">,</span><span class="token string">"man"</span><span class="token punctuation">)</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">splitAt</span> <span class="token number">100</span> <span class="token string">"heyman"</span>
<span class="token punctuation">(</span><span class="token string">"heyman"</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">splitAt</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">"heyman"</span>
<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token string">"heyman"</span><span class="token punctuation">)</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token punctuation">(</span><span class="token hvariable">a</span><span class="token punctuation">,</span><span class="token hvariable">b</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token builtin">splitAt</span> <span class="token number">3</span> <span class="token string">"foobar"</span> <span class="token keyword">in</span> <span class="token hvariable">b</span> <span class="token operator">++</span> <span class="token hvariable">a</span>
<span class="token string">"barfoo"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>takeWhile</code>&nbsp;is a really useful little function. It takes elements from a list while the predicate holds and then when an element is encountered that doesn't satisfy the predicate, it's cut off. It turns out this is very useful.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">takeWhile</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">takeWhile</span> <span class="token punctuation">(</span><span class="token operator">/=</span><span class="token char string">' '</span><span class="token punctuation">)</span> <span class="token string">"This is a sentence"</span>
<span class="token string">"This"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Say we wanted to know the sum of all third powers that are under 10,000. We can't map&nbsp;<code>(^3)</code>&nbsp;to&nbsp;<code>[1..]</code>, apply a filter and then try to sum that up because filtering an infinite list never finishes. You may know that all the elements here are ascending but Haskell doesn't. That's why we can do this:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">sum</span> <span class="token operator">$</span> <span class="token builtin">takeWhile</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token number">10000</span><span class="token punctuation">)</span> <span class="token operator">$</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token punctuation">]</span>
<span class="token number">53361</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>We apply&nbsp;<code>(^3)</code>&nbsp;to an infinite list and then once an element that's over 10,000 is encountered, the list is cut off. Now we can sum it up easily.</p></div><div><p><code>dropWhile</code>&nbsp;is similar, only it drops all the elements while the predicate is true. Once predicate equates to&nbsp;<code>False</code>, it returns the rest of the list. An extremely useful and lovely function!</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">dropWhile</span> <span class="token punctuation">(</span><span class="token operator">/=</span><span class="token char string">' '</span><span class="token punctuation">)</span> <span class="token string">"This is a sentence"</span>
<span class="token string">" is a sentence"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">dropWhile</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>We're given a list that represents the value of a stock by date. The list is made of tuples whose first component is the stock value, the second is the year, the third is the month and the fourth is the date. We want to know when the stock value first exceeded one thousand dollars!</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">stock</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">994.4</span><span class="token punctuation">,</span><span class="token number">2008</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">995.2</span><span class="token punctuation">,</span><span class="token number">2008</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">999.2</span><span class="token punctuation">,</span><span class="token number">2008</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1001.4</span><span class="token punctuation">,</span><span class="token number">2008</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">998.3</span><span class="token punctuation">,</span><span class="token number">2008</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">head</span> <span class="token punctuation">(</span><span class="token builtin">dropWhile</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token punctuation">(</span><span class="token hvariable">val</span><span class="token punctuation">,</span><span class="token hvariable">y</span><span class="token punctuation">,</span><span class="token hvariable">m</span><span class="token punctuation">,</span><span class="token hvariable">d</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token hvariable">val</span> <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token hvariable">stock</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">1001.4</span><span class="token punctuation">,</span><span class="token number">2008</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>span</code>&nbsp;is kind of like&nbsp;<code>takeWhile</code>, only it returns a pair of lists. The first list contains everything the resulting list from&nbsp;<code>takeWhile</code>&nbsp;would contain if it were called with the same predicate and the same list. The second list contains the part of the list that would have been dropped.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token punctuation">(</span><span class="token hvariable">fw</span><span class="token punctuation">,</span> <span class="token hvariable">rest</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token builtin">span</span> <span class="token punctuation">(</span><span class="token operator">/=</span><span class="token char string">' '</span><span class="token punctuation">)</span> <span class="token string">"This is a sentence"</span> <span class="token keyword">in</span> <span class="token string">"First word:"</span> <span class="token operator">++</span> <span class="token hvariable">fw</span> <span class="token operator">++</span> <span class="token string">", the rest:"</span> <span class="token operator">++</span> <span class="token hvariable">rest</span>
<span class="token string">"First word: This, the rest: is a sentence"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Whereas&nbsp;<code>span</code>&nbsp;spans the list while the predicate is true,&nbsp;<code>break</code>&nbsp;breaks it when the predicate is first true. Doing&nbsp;<code>break p</code>&nbsp;is the equivalent of doing&nbsp;<code>span (not . p)</code>.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">break</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">span</span> <span class="token punctuation">(</span><span class="token operator">/=</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>When using&nbsp;<code>break</code>, the second list in the result will start with the first element that satisfies the predicate.</p></div><div><p><code>sort</code>&nbsp;simply sorts a list. The type of the elements in the list has to be part of the&nbsp;<code>Ord</code>&nbsp;typeclass, because if the elements of a list can't be put in some kind of order, then the list can't be sorted.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">sort</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">sort</span> <span class="token string">"This will be sorted soon"</span>
<span class="token string">"    Tbdeehiillnooorssstw"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>group</code>&nbsp;takes a list and groups adjacent elements into sublists if they are equal.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">group</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>If we sort a list before grouping it, we can find out how many times each element appears in the list.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">l</span><span class="token operator">@</span><span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token hvariable">x</span><span class="token punctuation">,</span><span class="token builtin">length</span> <span class="token hvariable">l</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token builtin">group</span> <span class="token operator">.</span> <span class="token builtin">sort</span> <span class="token operator">$</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>inits</code>&nbsp;and&nbsp;<code>tails</code>&nbsp;are like&nbsp;<code>init</code>&nbsp;and&nbsp;<code>tail</code>, only they recursively apply that to a list until there's nothing left. Observe.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">inits</span> <span class="token string">"w00t"</span>
<span class="token punctuation">[</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token string">"w"</span><span class="token punctuation">,</span><span class="token string">"w0"</span><span class="token punctuation">,</span><span class="token string">"w00"</span><span class="token punctuation">,</span><span class="token string">"w00t"</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">tails</span> <span class="token string">"w00t"</span>
<span class="token punctuation">[</span><span class="token string">"w00t"</span><span class="token punctuation">,</span><span class="token string">"00t"</span><span class="token punctuation">,</span><span class="token string">"0t"</span><span class="token punctuation">,</span><span class="token string">"t"</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">w</span> <span class="token operator">=</span> <span class="token string">"w00t"</span> <span class="token keyword">in</span> <span class="token builtin">zip</span> <span class="token punctuation">(</span><span class="token hvariable">inits</span> <span class="token hvariable">w</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token hvariable">tails</span> <span class="token hvariable">w</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token string">"w00t"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"w"</span><span class="token punctuation">,</span><span class="token string">"00t"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"w0"</span><span class="token punctuation">,</span><span class="token string">"0t"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"w00"</span><span class="token punctuation">,</span><span class="token string">"t"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"w00t"</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Let's use a fold to implement searching a list for a sublist.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">search</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Eq</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Bool</span>
<span class="token hvariable">search</span> <span class="token hvariable">needle</span> <span class="token hvariable">haystack</span> <span class="token operator">=</span> 
    <span class="token keyword">let</span> <span class="token hvariable">nlen</span> <span class="token operator">=</span> <span class="token builtin">length</span> <span class="token hvariable">needle</span>
    <span class="token keyword">in</span>  <span class="token builtin">foldl</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">acc</span> <span class="token hvariable">x</span> <span class="token operator">-&gt;</span> <span class="token keyword">if</span> <span class="token builtin">take</span> <span class="token hvariable">nlen</span> <span class="token hvariable">x</span> <span class="token operator">==</span> <span class="token hvariable">needle</span> <span class="token keyword">then</span> <span class="token constant">True</span> <span class="token keyword">else</span> <span class="token hvariable">acc</span><span class="token punctuation">)</span> <span class="token constant">False</span> <span class="token punctuation">(</span><span class="token hvariable">tails</span> <span class="token hvariable">haystack</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>First we call&nbsp;<code>tails</code>&nbsp;with the list in which we're searching. Then we go over each tail and see if it starts with what we're looking for.</p></div><div><p>With that, we actually just made a function that behaves like&nbsp;<code>isInfixOf</code>.&nbsp;<code>isInfixOf</code>&nbsp;searches for a sublist within a list and returns&nbsp;<code>True</code>&nbsp;if the sublist we're looking for is somewhere inside the target list.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">"cat"</span> <span class="token operator">`isInfixOf`</span> <span class="token string">"im a cat burglar"</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">"Cat"</span> <span class="token operator">`isInfixOf`</span> <span class="token string">"im a cat burglar"</span>
<span class="token constant">False</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">"cats"</span> <span class="token operator">`isInfixOf`</span> <span class="token string">"im a cat burglar"</span>
<span class="token constant">False</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>isPrefixOf</code>&nbsp;and&nbsp;<code>isSuffixOf</code>&nbsp;search for a sublist at the beginning and at the end of a list, respectively.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">"hey"</span> <span class="token operator">`isPrefixOf`</span> <span class="token string">"hey there!"</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">"hey"</span> <span class="token operator">`isPrefixOf`</span> <span class="token string">"oh hey there!"</span>
<span class="token constant">False</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">"there!"</span> <span class="token operator">`isSuffixOf`</span> <span class="token string">"oh hey there!"</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">"there!"</span> <span class="token operator">`isSuffixOf`</span> <span class="token string">"oh hey there"</span>
<span class="token constant">False</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>elem</code>&nbsp;and&nbsp;<code>notElem</code>&nbsp;check if an element is or isn't inside a list.</p></div><div><p><code>partition</code>&nbsp;takes a list and a predicate and returns a pair of lists. The first list in the result contains all the elements that satisfy the predicate, the second contains all the ones that don't.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">partition</span> <span class="token punctuation">(</span><span class="token operator">`elem`</span> <span class="token punctuation">[</span><span class="token char string">'A'</span><span class="token operator">..</span><span class="token char string">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token string">"BOBsidneyMORGANeddy"</span>
<span class="token punctuation">(</span><span class="token string">"BOBMORGAN"</span><span class="token punctuation">,</span><span class="token string">"sidneyeddy"</span><span class="token punctuation">)</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">partition</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>It's important to understand how this is different from&nbsp;<code>span</code>&nbsp;and&nbsp;<code>break</code>:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">span</span> <span class="token punctuation">(</span><span class="token operator">`elem`</span> <span class="token punctuation">[</span><span class="token char string">'A'</span><span class="token operator">..</span><span class="token char string">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token string">"BOBsidneyMORGANeddy"</span>
<span class="token punctuation">(</span><span class="token string">"BOB"</span><span class="token punctuation">,</span><span class="token string">"sidneyMORGANeddy"</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>While&nbsp;<code>span</code>&nbsp;and&nbsp;<code>break</code>&nbsp;are done once they encounter the first element that doesn't and does satisfy the predicate,&nbsp;<code>partition</code>&nbsp;goes through the whole list and splits it up according to the predicate.</p></div><div><p><code>find</code>&nbsp;takes a list and a predicate and returns the first element that satisfies the predicate. But it returns that element wrapped in a&nbsp;<code>Maybe</code>&nbsp;value. We'll be covering algebraic data types more in depth in the next chapter but for now, this is what you need to know: a&nbsp;<code>Maybe</code>&nbsp;value can either be&nbsp;<code>Just something</code>&nbsp;or&nbsp;<code>Nothing</code>. Much like a list can be either an empty list or a list with some elements, a&nbsp;<code>Maybe</code>&nbsp;value can be either no elements or a single element. And like the type of a list of, say, integers is&nbsp;<code>[Int]</code>, the type of maybe having an integer is&nbsp;<code>Maybe Int</code>. Anyway, let's take our&nbsp;<code>find</code>&nbsp;function for a spin.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">find</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token constant">Just</span> <span class="token number">5</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">find</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token constant">Nothing</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token operator">:</span><span class="token hvariable">t</span> <span class="token hvariable">find</span>
<span class="token hvariable">find</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token constant">Bool</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Maybe</span> <span class="token hvariable">a</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Notice the type of&nbsp;<code>find</code>. Its result is&nbsp;<code>Maybe a</code>. That's kind of like having the type of&nbsp;<code>[a]</code>, only a value of the type&nbsp;<code>Maybe</code>&nbsp;can contain either no elements or one element, whereas a list can contain no elements, one element or several elements.</p></div><div><p>Remember when we were searching for the first time our stock went over $1000. We did&nbsp;<code>head (dropWhile (\(val,y,m,d) -&gt; val &lt; 1000) stock)</code>. Remember that&nbsp;<code>head</code>&nbsp;is not really safe. What would happen if our stock never went over $1000? Our application of&nbsp;<code>dropWhile</code>&nbsp;would return an empty list and getting the head of an empty list would result in an error. However, if we rewrote that as&nbsp;<code>find (\(val,y,m,d) -&gt; val &gt; 1000) stock</code>, we'd be much safer. If our stock never went over $1000 (so if no element satisfied the predicate), we'd get back a&nbsp;<code>Nothing</code>. But there was a valid answer in that list, we'd get, say,&nbsp;<code>Just (1001.4,2008,9,4)</code>.</p></div><div><p><code>elemIndex</code>&nbsp;is kind of like&nbsp;<code>elem</code>, only it doesn't return a boolean value. It maybe returns the index of the element we're looking for. If that element isn't in our list, it returns a&nbsp;<code>Nothing</code>.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token operator">:</span><span class="token hvariable">t</span> <span class="token hvariable">elemIndex</span>
<span class="token hvariable">elemIndex</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Eq</span> <span class="token hvariable">a</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Maybe</span> <span class="token constant">Int</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">4</span> <span class="token operator">`elemIndex`</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token constant">Just</span> <span class="token number">3</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token operator">`elemIndex`</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token constant">Nothing</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>elemIndices</code>&nbsp;is like&nbsp;<code>elemIndex</code>, only it returns a list of indices, in case the element we're looking for crops up in our list several times. Because we're using a list to represent the indices, we don't need a&nbsp;<code>Maybe</code>&nbsp;type, because failure can be represented as the empty list, which is very much synonymous to&nbsp;<code>Nothing</code>.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token char string">' '</span> <span class="token operator">`elemIndices`</span> <span class="token string">"Where are the spaces?"</span>
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>findIndex</code>&nbsp;is like find, but it maybe returns the index of the first element that satisfies the predicate.&nbsp;<code>findIndices</code>&nbsp;returns the indices of all elements that satisfy the predicate in the form of a list.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">findIndex</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token constant">Just</span> <span class="token number">5</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">findIndex</span> <span class="token punctuation">(</span><span class="token operator">==</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token constant">Nothing</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">findIndices</span> <span class="token punctuation">(</span><span class="token operator">`elem`</span> <span class="token punctuation">[</span><span class="token char string">'A'</span><span class="token operator">..</span><span class="token char string">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token string">"Where Are The Caps?"</span>
<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>We already covered&nbsp;<code>zip</code>&nbsp;and&nbsp;<code>zipWith</code>. We noted that they zip together two lists, either in a tuple or with a binary function (meaning such a function that takes two parameters). But what if we want to zip together three lists? Or zip three lists with a function that takes three parameters? Well, for that, we have&nbsp;<code>zip3</code>,&nbsp;<code>zip4</code>, etc. and&nbsp;<code>zipWith3</code>,&nbsp;<code>zipWith4</code>, etc. These variants go up to 7. While this may look like a hack, it works out pretty fine, because there aren't many times when you want to zip 8 lists together. There's also a very clever way for zipping infinite numbers of lists, but we're not advanced enough to cover that just yet.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">zipWith3</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">x</span> <span class="token hvariable">y</span> <span class="token hvariable">z</span> <span class="token operator">-&gt;</span> <span class="token hvariable">x</span> <span class="token operator">+</span> <span class="token hvariable">y</span> <span class="token operator">+</span> <span class="token hvariable">z</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">zip4</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Just like with normal zipping, lists that are longer than the shortest list that's being zipped are cut down to size.</p></div><div><p><code>lines</code>&nbsp;is a useful function when dealing with files or input from somewhere. It takes a string and returns every line of that string in a separate list.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">lines</span> <span class="token string">"first line\nsecond line\nthird line"</span>
<span class="token punctuation">[</span><span class="token string">"first line"</span><span class="token punctuation">,</span><span class="token string">"second line"</span><span class="token punctuation">,</span><span class="token string">"third line"</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>'\n'</code>&nbsp;is the character for a unix newline. Backslashes have special meaning in Haskell strings and characters.</p></div><div><p><code>unlines</code>&nbsp;is the inverse function of&nbsp;<code>lines</code>. It takes a list of strings and joins them together using a&nbsp;<code>'\n'</code>.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">unlines</span> <span class="token punctuation">[</span><span class="token string">"first line"</span><span class="token punctuation">,</span> <span class="token string">"second line"</span><span class="token punctuation">,</span> <span class="token string">"third line"</span><span class="token punctuation">]</span>
<span class="token string">"first line\nsecond line\nthird line\n"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>words</code>&nbsp;and&nbsp;<code>unwords</code>&nbsp;are for splitting a line of text into words or joining a list of words into a text. Very useful.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">words</span> <span class="token string">"hey these are the words in this sentence"</span>
<span class="token punctuation">[</span><span class="token string">"hey"</span><span class="token punctuation">,</span><span class="token string">"these"</span><span class="token punctuation">,</span><span class="token string">"are"</span><span class="token punctuation">,</span><span class="token string">"the"</span><span class="token punctuation">,</span><span class="token string">"words"</span><span class="token punctuation">,</span><span class="token string">"in"</span><span class="token punctuation">,</span><span class="token string">"this"</span><span class="token punctuation">,</span><span class="token string">"sentence"</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">words</span> <span class="token string">"hey these           are    the words in this\nsentence"</span>
<span class="token punctuation">[</span><span class="token string">"hey"</span><span class="token punctuation">,</span><span class="token string">"these"</span><span class="token punctuation">,</span><span class="token string">"are"</span><span class="token punctuation">,</span><span class="token string">"the"</span><span class="token punctuation">,</span><span class="token string">"words"</span><span class="token punctuation">,</span><span class="token string">"in"</span><span class="token punctuation">,</span><span class="token string">"this"</span><span class="token punctuation">,</span><span class="token string">"sentence"</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">unwords</span> <span class="token punctuation">[</span><span class="token string">"hey"</span><span class="token punctuation">,</span><span class="token string">"there"</span><span class="token punctuation">,</span><span class="token string">"mate"</span><span class="token punctuation">]</span>
<span class="token string">"hey there mate"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>We've already mentioned&nbsp;<code>nub</code>. It takes a list and weeds out the duplicate elements, returning a list whose every element is a unique snowflake! The function does have a kind of strange name. It turns out that "nub" means a small lump or essential part of something. In my opinion, they should use real words for function names instead of old-people words.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">nub</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">nub</span> <span class="token string">"Lots of words and stuff"</span>
<span class="token string">"Lots fwrdanu"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>delete</code>&nbsp;takes an element and a list and deletes the first occurence of that element in the list.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">delete</span> <span class="token char string">'h'</span> <span class="token string">"hey there ghang!"</span>
<span class="token string">"ey there ghang!"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">delete</span> <span class="token char string">'h'</span> <span class="token operator">.</span> <span class="token hvariable">delete</span> <span class="token char string">'h'</span> <span class="token operator">$</span> <span class="token string">"hey there ghang!"</span>
<span class="token string">"ey tere ghang!"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">delete</span> <span class="token char string">'h'</span> <span class="token operator">.</span> <span class="token hvariable">delete</span> <span class="token char string">'h'</span> <span class="token operator">.</span> <span class="token hvariable">delete</span> <span class="token char string">'h'</span> <span class="token operator">$</span> <span class="token string">"hey there ghang!"</span>
<span class="token string">"ey tere gang!"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>\\</code>&nbsp;is the list difference function. It acts like a set difference, basically. For every element in the right-hand list, it removes a matching element in the left one.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">\\</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">"Im a big baby"</span> <span class="token operator">\\</span> <span class="token string">"big"</span>
<span class="token string">"Im a  baby"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Doing&nbsp;<code>[1..10] \\ [2,5,9]</code>&nbsp;is like doing&nbsp;<code>delete 2 . delete 5 . delete 9 $ [1..10]</code>.</p></div><div><p><code>union</code>&nbsp;also acts like a function on sets. It returns the union of two lists. It pretty much goes over every element in the second list and appends it to the first one if it isn't already in yet. Watch out though, duplicates are removed from the second list!</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token string">"hey man"</span> <span class="token operator">`union`</span> <span class="token string">"man what's up"</span>
<span class="token string">"hey manwt'sup"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">`union`</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token operator">..</span><span class="token number">10</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>intersect</code>&nbsp;works like set intersection. It returns only the elements that are found in both lists.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">`intersect`</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token operator">..</span><span class="token number">10</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>insert</code>&nbsp;takes an element and a list of elements that can be sorted and inserts it into the last position where it's still less than or equal to the next element. In other words,&nbsp;<code>insert</code>&nbsp;will start at the beginning of the list and then keep going until it finds an element that's equal to or greater than the element that we're inserting and it will insert it just before the element.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">insert</span> <span class="token number">4</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">insert</span> <span class="token number">4</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>The&nbsp;<code>4</code>&nbsp;is inserted right after the&nbsp;<code>3</code>&nbsp;and before the&nbsp;<code>5</code>&nbsp;in the first example and in between the&nbsp;<code>3</code>&nbsp;and&nbsp;<code>4</code>&nbsp;in the second example.</p></div><div><p>If we use&nbsp;insert&nbsp;to insert into a sorted list, the resulting list will be kept sorted.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">insert</span> <span class="token number">4</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">insert</span> <span class="token char string">'g'</span> <span class="token operator">$</span> <span class="token punctuation">[</span><span class="token char string">'a'</span><span class="token operator">..</span><span class="token char string">'f'</span><span class="token punctuation">]</span> <span class="token operator">++</span> <span class="token punctuation">[</span><span class="token char string">'h'</span><span class="token operator">..</span><span class="token char string">'z'</span><span class="token punctuation">]</span>
<span class="token string">"abcdefghijklmnopqrstuvwxyz"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">insert</span> <span class="token number">3</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>What&nbsp;<code>length</code>,&nbsp;<code>take</code>,&nbsp;<code>drop</code>,&nbsp;<code>splitAt</code>,&nbsp;<code>!!</code>&nbsp;and&nbsp;<code>replicate</code>&nbsp;have in common is that they take an&nbsp;<code>Int</code>&nbsp;as one of their parameters (or return an&nbsp;<code>Int</code>), even though they could be more generic and usable if they just took any type that's part of the&nbsp;<code>Integral</code>&nbsp;or&nbsp;<code>Num</code>&nbsp;typeclasses (depending on the functions). They do that for historical reasons. However, fixing that would probably break a lot of existing code. That's why&nbsp;<code>Data.List</code>&nbsp;has their more generic equivalents, named&nbsp;<code>genericLength</code>,&nbsp;<code>genericTake</code>,&nbsp;<code>genericDrop</code>,&nbsp;<code>genericSplitAt</code>,&nbsp;<code>genericIndex</code>&nbsp;and&nbsp;<code>genericReplicate</code>. For instance,&nbsp;<code>length</code>&nbsp;has a type signature of&nbsp;<code>length :: [a] -&gt; Int</code>. If we try to get the average of a list of numbers by doing&nbsp;<code>let xs = [1..6] in sum xs / length xs</code>, we get a type error, because you can't use&nbsp;<code>/</code>&nbsp;with an&nbsp;<code>Int</code>.&nbsp;<code>genericLength</code>, on the other hand, has a type signature of&nbsp;<code>genericLength :: (Num a) =&gt; [b] -&gt; a</code>. Because a&nbsp;<code>Num</code>&nbsp;can act like a floating point number, getting the average by doing&nbsp;<code>let xs = [1..6] in sum xs / genericLength xs</code>&nbsp;works out just fine.</p></div><div><p>The&nbsp;<code>nub</code>,&nbsp;<code>delete</code>,&nbsp;<code>union</code>,&nbsp;<code>intersect</code>&nbsp;and&nbsp;<code>group</code>&nbsp;functions all have their more general counterparts called&nbsp;<code>nubBy</code>,&nbsp;<code>deleteBy</code>,&nbsp;<code>unionBy</code>,&nbsp;<code>intersectBy</code>&nbsp;and&nbsp;<code>groupBy</code>. The difference between them is that the first set of functions use&nbsp;<code>==</code>&nbsp;to test for equality, whereas the&nbsp;<em>By</em>&nbsp;ones also take an equality function and then compare them by using that equality function.&nbsp;<code>group</code>&nbsp;is the same as&nbsp;<code>groupBy (==)</code>.</p></div><div><p>For instance, say we have a list that describes the value of a function for every second. We want to segment it into sublists based on when the value was below zero and when it went above. If we just did a normal&nbsp;<code>group</code>, it would just group the equal adjacent values together. But what we want is to group them by whether they are negative or not. That's where&nbsp;<code>groupBy</code>&nbsp;comes in! The equality function supplied to the&nbsp;<em>By</em>&nbsp;functions should take two elements of the same type and return&nbsp;<code>True</code>&nbsp;if it considers them equal by its standards.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">values</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4.3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2.4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">2.3</span><span class="token punctuation">,</span> <span class="token number">5.9</span><span class="token punctuation">,</span> <span class="token number">10.5</span><span class="token punctuation">,</span> <span class="token number">29.1</span><span class="token punctuation">,</span> <span class="token number">5.3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2.4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">14.5</span><span class="token punctuation">,</span> <span class="token number">2.9</span><span class="token punctuation">,</span> <span class="token number">2.3</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">groupBy</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">x</span> <span class="token hvariable">y</span> <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token hvariable">x</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">(</span><span class="token hvariable">y</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token hvariable">values</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4.3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2.4</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1.2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0.4</span><span class="token punctuation">,</span><span class="token number">2.3</span><span class="token punctuation">,</span><span class="token number">5.9</span><span class="token punctuation">,</span><span class="token number">10.5</span><span class="token punctuation">,</span><span class="token number">29.1</span><span class="token punctuation">,</span><span class="token number">5.3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2.4</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">14.5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2.9</span><span class="token punctuation">,</span><span class="token number">2.3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>From this, we clearly see which sections are positive and which are negative. The equality function supplied takes two elements and then returns&nbsp;<code>True</code>&nbsp;only if they're both negative or if they're both positive. This equality function can also be written as&nbsp;<code>\x y -&gt; (x &gt; 0) &amp;&amp; (y &gt; 0) || (x &lt;= 0) &amp;&amp; (y &lt;= 0)</code>, although I think the first way is more readable. An even clearer way to write equality functions for the&nbsp;<em>By</em>&nbsp;functions is if you import the&nbsp;<code>on</code>&nbsp;function from&nbsp;<code>Data.Function</code>.&nbsp;<code>on</code>&nbsp;is defined like this:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">on</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token hvariable">b</span> <span class="token operator">-&gt;</span> <span class="token hvariable">b</span> <span class="token operator">-&gt;</span> <span class="token hvariable">c</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">b</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">a</span> <span class="token operator">-&gt;</span> <span class="token hvariable">c</span>
<span class="token hvariable">f</span> <span class="token operator">`on`</span> <span class="token hvariable">g</span> <span class="token operator">=</span> <span class="token operator">\</span><span class="token hvariable">x</span> <span class="token hvariable">y</span> <span class="token operator">-&gt;</span> <span class="token hvariable">f</span> <span class="token punctuation">(</span><span class="token hvariable">g</span> <span class="token hvariable">x</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token hvariable">g</span> <span class="token hvariable">y</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>So doing&nbsp;<code>(==) `on` (&gt; 0)</code>&nbsp;returns an equality function that looks like&nbsp;<code>\x y -&gt; (x &gt; 0) == (y &gt; 0)</code>.&nbsp;<code>on</code>&nbsp;is used a lot with the&nbsp;<em>By</em>&nbsp;functions because with it, we can do:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">groupBy</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">==</span><span class="token punctuation">)</span> <span class="token operator">`on`</span> <span class="token punctuation">(</span><span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token hvariable">values</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4.3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2.4</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1.2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0.4</span><span class="token punctuation">,</span><span class="token number">2.3</span><span class="token punctuation">,</span><span class="token number">5.9</span><span class="token punctuation">,</span><span class="token number">10.5</span><span class="token punctuation">,</span><span class="token number">29.1</span><span class="token punctuation">,</span><span class="token number">5.3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2.4</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">14.5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2.9</span><span class="token punctuation">,</span><span class="token number">2.3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Very readable indeed! You can read it out loud: Group this by equality on whether the elements are greater than zero.</p></div><div><p>Similarly, the&nbsp;<code>sort</code>,&nbsp;<code>insert</code>,&nbsp;<code>maximum</code>&nbsp;and&nbsp;<code>minimum</code>&nbsp;also have their more general equivalents. Functions like&nbsp;<code>groupBy</code>&nbsp;take a function that determines when two elements are equal.&nbsp;<code>sortBy</code>,&nbsp;<code>insertBy</code>,&nbsp;<code>maximumBy</code>&nbsp;and&nbsp;<code>minimumBy</code>&nbsp;take a function that determine if one element is greater, smaller or equal to the other. The type signature of&nbsp;<code>sortBy</code>&nbsp;is&nbsp;<code>sortBy :: (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]</code>. If you remember from before, the&nbsp;<code>Ordering</code>&nbsp;type can have a value of&nbsp;<code>LT</code>,&nbsp;<code>EQ</code>&nbsp;or&nbsp;<code>GT</code>.&nbsp;<code>sort</code>&nbsp;is the equivalent of&nbsp;<code>sortBy compare</code>, because compare just takes two elements whose type is in the&nbsp;<code>Ord</code>&nbsp;typeclass and returns their ordering relationship.</p></div><div><p>Lists can be compared, but when they are, they are compared lexicographically. What if we have a list of lists and we want to sort it not based on the inner lists' contents but on their lengths? Well, as you've probably guessed, we'll use the&nbsp;<code>sortBy</code>&nbsp;function.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">sortBy</span> <span class="token punctuation">(</span><span class="token builtin">compare</span> <span class="token operator">`on`</span> <span class="token builtin">length</span><span class="token punctuation">)</span> <span class="token hvariable">xs</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Awesome!&nbsp;<code>compare `on` length</code>&nbsp;... man, that reads almost like real English! If you're not sure how exactly the&nbsp;<code>on</code>&nbsp;works here,&nbsp;<code>compare `on` length</code>&nbsp;is the equivalent of&nbsp;<code>\x y -&gt; length x `compare` length y</code>. When you're dealing with&nbsp;<em>By</em>&nbsp;functions that take an equality function, you usually do&nbsp;<code>(==) `on` something</code>&nbsp;and when you're dealing with&nbsp;<em>By</em>&nbsp;functions that take an ordering function, you usually do&nbsp;<code>compare `on` something</code>.</p></div><div><h2 data-heading="Data.Char" id="Data.Char" style="display: flex;"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Data.Char</h2></div><div><p><img alt="lego char" src="http://s3.amazonaws.com/lyah/legochar.png" referrerpolicy="no-referrer"></p></div><div><p>The&nbsp;<code>Data.Char</code>&nbsp;module does what its name suggests. It exports functions that deal with characters. It's also helpful when filtering and mapping over strings because they're just lists of characters.</p></div><div><p><code>Data.Char</code>&nbsp;exports a bunch of predicates over characters. That is, functions that take a character and tell us whether some assumption about it is true or false. Here's what they are:</p></div><div><p><code>isControl</code>&nbsp;checks whether a character is a control character.</p></div><div><p><code>isSpace</code>&nbsp;checks whether a character is a white-space characters. That includes spaces, tab characters, newlines, etc.</p></div><div><p><code>isLower</code>&nbsp;checks whether a character is lower-cased.</p></div><div><p><code>isUpper</code>&nbsp;checks whether a character is upper-cased.</p></div><div><p><code>isAlpha</code>&nbsp;checks whether a character is a letter.</p></div><div><p><code>isAlphaNum</code>&nbsp;checks whether a character is a letter or a number.</p></div><div><p><code>isPrint</code>&nbsp;checks whether a character is printable. Control characters, for instance, are not printable.</p></div><div><p><code>isDigit</code>&nbsp;checks whether a character is a digit.</p></div><div><p><code>isOctDigit</code>&nbsp;checks whether a character is an octal digit.</p></div><div><p><code>isHexDigit</code>&nbsp;checks whether a character is a hex digit.</p></div><div><p><code>isLetter</code>&nbsp;checks whether a character is a letter.</p></div><div><p><code>isMark</code>&nbsp;checks for Unicode mark characters. Those are characters that combine with preceding letters to form latters with accents. Use this if you are French.</p></div><div><p><code>isNumber</code>&nbsp;checks whether a character is numeric.</p></div><div><p><code>isPunctuation</code>&nbsp;checks whether a character is punctuation.</p></div><div><p><code>isSymbol</code>&nbsp;checks whether a character is a fancy mathematical or currency symbol.</p></div><div><p><code>isSeparator</code>&nbsp;checks for Unicode spaces and separators.</p></div><div><p><code>isAscii</code>&nbsp;checks whether a character falls into the first 128 characters of the Unicode character set.</p></div><div><p><code>isLatin1</code>&nbsp;checks whether a character falls into the first 256 characters of Unicode.</p></div><div><p><code>isAsciiUpper</code>&nbsp;checks whether a character is ASCII and upper-case.</p></div><div><p><code>isAsciiLower</code>&nbsp;checks whether a character is ASCII and lower-case.</p></div><div><p>All these predicates have a type signature of&nbsp;<code>Char -&gt; Bool</code>. Most of the time you'll use this to filter out strings or something like that. For instance, let's say we're making a program that takes a username and the username can only be comprised of alphanumeric characters. We can use the&nbsp;<code>Data.List</code>&nbsp;function&nbsp;<code>all</code>&nbsp;in combination with the&nbsp;<code>Data.Char</code>&nbsp;predicates to determine if the username is alright.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">all</span> <span class="token builtin">isAlphaNum</span> <span class="token string">"bobby283"</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">all</span> <span class="token builtin">isAlphaNum</span> <span class="token string">"eddy the fish!"</span>
<span class="token constant">False</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Kewl. In case you don't remember,&nbsp;<code>all</code>&nbsp;takes a predicate and a list and returns&nbsp;<code>True</code>&nbsp;only if that predicate holds for every element in the list.</p></div><div><p>We can also use&nbsp;<code>isSpace</code>&nbsp;to simulate the&nbsp;<code>Data.List</code>&nbsp;function&nbsp;<code>words</code>.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">words</span> <span class="token string">"hey guys its me"</span>
<span class="token punctuation">[</span><span class="token string">"hey"</span><span class="token punctuation">,</span><span class="token string">"guys"</span><span class="token punctuation">,</span><span class="token string">"its"</span><span class="token punctuation">,</span><span class="token string">"me"</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">groupBy</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">==</span><span class="token punctuation">)</span> <span class="token operator">`on`</span> <span class="token builtin">isSpace</span><span class="token punctuation">)</span> <span class="token string">"hey guys its me"</span>
<span class="token punctuation">[</span><span class="token string">"hey"</span><span class="token punctuation">,</span><span class="token string">" "</span><span class="token punctuation">,</span><span class="token string">"guys"</span><span class="token punctuation">,</span><span class="token string">" "</span><span class="token punctuation">,</span><span class="token string">"its"</span><span class="token punctuation">,</span><span class="token string">" "</span><span class="token punctuation">,</span><span class="token string">"me"</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Hmmm, well, it kind of does what&nbsp;<code>words</code>&nbsp;does but we're left with elements of only spaces. Hmm, whatever shall we do? I know, let's filter that sucker.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">filter</span> <span class="token punctuation">(</span><span class="token builtin">not</span> <span class="token operator">.</span> <span class="token builtin">any</span> <span class="token builtin">isSpace</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token hvariable">groupBy</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">==</span><span class="token punctuation">)</span> <span class="token operator">`on`</span> <span class="token builtin">isSpace</span><span class="token punctuation">)</span> <span class="token operator">$</span> <span class="token string">"hey guys its me"</span>
<span class="token punctuation">[</span><span class="token string">"hey"</span><span class="token punctuation">,</span><span class="token string">"guys"</span><span class="token punctuation">,</span><span class="token string">"its"</span><span class="token punctuation">,</span><span class="token string">"me"</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Ah.</p></div><div><p>The&nbsp;<code>Data.Char</code>&nbsp;also exports a datatype that's kind of like&nbsp;<code>Ordering</code>. The&nbsp;<code>Ordering</code>&nbsp;type can have a value of&nbsp;<code>LT</code>,&nbsp;<code>EQ</code>&nbsp;or&nbsp;<code>GT</code>. It's a sort of enumeration. It describes a few possible results that can arise from comparing two elements. The&nbsp;<code>GeneralCategory</code>&nbsp;type is also an enumeration. It presents us with a few possible categories that a character can fall into. The main function for getting the general category of a character is&nbsp;<code>generalCategory</code>. It has a type of&nbsp;<code>generalCategory :: Char -&gt; GeneralCategory</code>. There are about 31 categories so we won't list them all here, but let's play around with the function.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">generalCategory</span> <span class="token char string">' '</span>
<span class="token constant">Space</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">generalCategory</span> <span class="token char string">'A'</span>
<span class="token constant">UppercaseLetter</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">generalCategory</span> <span class="token char string">'a'</span>
<span class="token constant">LowercaseLetter</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">generalCategory</span> <span class="token char string">'.'</span>
<span class="token constant">OtherPunctuation</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">generalCategory</span> <span class="token char string">'9'</span>
<span class="token constant">DecimalNumber</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token hvariable">generalCategory</span> <span class="token string">" \t\nA9?|"</span>
<span class="token punctuation">[</span><span class="token constant">Space</span><span class="token punctuation">,</span><span class="token constant">Control</span><span class="token punctuation">,</span><span class="token constant">Control</span><span class="token punctuation">,</span><span class="token constant">UppercaseLetter</span><span class="token punctuation">,</span><span class="token constant">DecimalNumber</span><span class="token punctuation">,</span><span class="token constant">OtherPunctuation</span><span class="token punctuation">,</span><span class="token constant">MathSymbol</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Since the&nbsp;<code>GeneralCategory</code>&nbsp;type is part of the&nbsp;<code>Eq</code>&nbsp;typeclass, we can also test for stuff like&nbsp;<code>generalCategory c == Space</code>.</p></div><div><p><code>toUpper</code>&nbsp;converts a character to upper-case. Spaces, numbers, and the like remain unchanged.</p></div><div><p><code>toLower</code>&nbsp;converts a character to lower-case.</p></div><div><p><code>toTitle</code>&nbsp;converts a character to title-case. For most characters, title-case is the same as upper-case.</p></div><div><p><code>digitToInt</code>&nbsp;converts a character to an&nbsp;<code>Int</code>. To succeed, the character must be in the ranges&nbsp;<code>'0'..'9'</code>,&nbsp;<code>'a'..'f'</code>&nbsp;or&nbsp;<code>'A'..'F'</code>.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token builtin">digitToInt</span> <span class="token string">"34538"</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token builtin">digitToInt</span> <span class="token string">"FF85AB"</span>
<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>intToDigit</code>&nbsp;is the inverse function of&nbsp;<code>digitToInt</code>. It takes an&nbsp;<code>Int</code>&nbsp;in the range of&nbsp;<code>0..15</code>&nbsp;and converts it to a lower-case character.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">intToDigit</span> <span class="token number">15</span>
<span class="token char string">'f'</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">intToDigit</span> <span class="token number">5</span>
<span class="token char string">'5'</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>The&nbsp;<code>ord</code>&nbsp;and&nbsp;<code>chr</code>&nbsp;functions convert characters to their corresponding numbers and vice versa:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">ord</span> <span class="token char string">'a'</span>
<span class="token number">97</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">chr</span> <span class="token number">97</span>
<span class="token char string">'a'</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token builtin">map</span> <span class="token builtin">ord</span> <span class="token string">"abcdefgh"</span>
<span class="token punctuation">[</span><span class="token number">97</span><span class="token punctuation">,</span><span class="token number">98</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token number">102</span><span class="token punctuation">,</span><span class="token number">103</span><span class="token punctuation">,</span><span class="token number">104</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>The difference between the&nbsp;<code>ord</code>&nbsp;values of two characters is equal to how far apart they are in the Unicode table.</p></div><div><p>The Caesar cipher is a primitive method of encoding messages by shifting each character in them by a fixed number of positions in the alphabet. We can easily create a sort of Caesar cipher of our own, only we won't constrict ourselves to the alphabet.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">encode</span> <span class="token operator">::</span> <span class="token constant">Int</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>
<span class="token hvariable">encode</span> <span class="token hvariable">shift</span> <span class="token hvariable">msg</span> <span class="token operator">=</span>
    <span class="token keyword">let</span> <span class="token hvariable">ords</span> <span class="token operator">=</span> <span class="token builtin">map</span> <span class="token builtin">ord</span> <span class="token hvariable">msg</span>
        <span class="token hvariable">shifted</span> <span class="token operator">=</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">+</span> <span class="token hvariable">shift</span><span class="token punctuation">)</span> <span class="token hvariable">ords</span>
    <span class="token keyword">in</span>  <span class="token builtin">map</span> <span class="token builtin">chr</span> <span class="token hvariable">shifted</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Here, we first convert the string to a list of numbers. Then we add the shift amount to each number before converting the list of numbers back to characters. If you're a composition cowboy, you could write the body of this function as&nbsp;<code>map (chr . (+ shift) . ord) msg</code>. Let's try encoding a few messages.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">encode</span> <span class="token number">3</span> <span class="token string">"Heeeeey"</span>
<span class="token string">"Khhhhh|"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">encode</span> <span class="token number">4</span> <span class="token string">"Heeeeey"</span>
<span class="token string">"Liiiii}"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">encode</span> <span class="token number">1</span> <span class="token string">"abcd"</span>
<span class="token string">"bcde"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">encode</span> <span class="token number">5</span> <span class="token string">"Marry Christmas! Ho ho ho!"</span>
<span class="token string">"Rfww~%Hmwnxyrfx&amp;%Mt%mt%mt&amp;"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>That's encoded alright. Decoding a message is basically just shifting it back by the number of places it was shifted by in the first place.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">decode</span> <span class="token operator">::</span> <span class="token constant">Int</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span> <span class="token operator">-&gt;</span> <span class="token constant">String</span>
<span class="token hvariable">decode</span> <span class="token hvariable">shift</span> <span class="token hvariable">msg</span> <span class="token operator">=</span> <span class="token hvariable">encode</span> <span class="token punctuation">(</span><span class="token builtin">negate</span> <span class="token hvariable">shift</span><span class="token punctuation">)</span> <span class="token hvariable">msg</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">encode</span> <span class="token number">3</span> <span class="token string">"Im a little teapot"</span>
<span class="token string">"Lp#d#olwwoh#whdsrw"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">decode</span> <span class="token number">3</span> <span class="token string">"Lp#d#olwwoh#whdsrw"</span>
<span class="token string">"Im a little teapot"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">decode</span> <span class="token number">5</span> <span class="token operator">.</span> <span class="token hvariable">encode</span> <span class="token number">5</span> <span class="token operator">$</span> <span class="token string">"This is a sentence"</span>
<span class="token string">"This is a sentence"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><h2 data-heading="Data.Map" id="Data.Map" style="display: flex;"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Data.Map</h2></div><div><p>Association lists (also called dictionaries) are lists that are used to store key-value pairs where ordering doesn't matter. For instance, we might use an association list to store phone numbers, where phone numbers would be the values and people's names would be the keys. We don't care in which order they're stored, we just want to get the right phone number for the right person.</p></div><div><p>The most obvious way to represent association lists in Haskell would be by having a list of pairs. The first component in the pair would be the key, the second component the value. Here's an example of an association list with phone numbers:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">phoneBook</span> <span class="token operator">=</span> 
    <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">"betty"</span><span class="token punctuation">,</span><span class="token string">"555-2938"</span><span class="token punctuation">)</span>
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"bonnie"</span><span class="token punctuation">,</span><span class="token string">"452-2928"</span><span class="token punctuation">)</span>
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"patsy"</span><span class="token punctuation">,</span><span class="token string">"493-2928"</span><span class="token punctuation">)</span>
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"lucille"</span><span class="token punctuation">,</span><span class="token string">"205-2928"</span><span class="token punctuation">)</span>
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"wendy"</span><span class="token punctuation">,</span><span class="token string">"939-8282"</span><span class="token punctuation">)</span>
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"penny"</span><span class="token punctuation">,</span><span class="token string">"853-2492"</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Despite this seemingly odd indentation, this is just a list of pairs of strings. The most common task when dealing with association lists is looking up some value by key. Let's make a function that looks up some value given a key.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">findKey</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Eq</span> <span class="token hvariable">k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">k</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token hvariable">v</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token hvariable">v</span>
<span class="token hvariable">findKey</span> <span class="token hvariable">key</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token builtin">snd</span> <span class="token operator">.</span> <span class="token builtin">head</span> <span class="token operator">.</span> <span class="token builtin">filter</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token hvariable">v</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token hvariable">key</span> <span class="token operator">==</span> <span class="token hvariable">k</span><span class="token punctuation">)</span> <span class="token operator">$</span> <span class="token hvariable">xs</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Pretty simple. The function that takes a key and a list, filters the list so that only matching keys remain, gets the first key-value that matches and returns the value. But what happens if the key we're looking for isn't in the association list? Hmm. Here, if a key isn't in the association list, we'll end up trying to get the head of an empty list, which throws a runtime error. However, we should avoid making our programs so easy to crash, so let's use the&nbsp;<code>Maybe</code>&nbsp;data type. If we don't find the key, we'll return a&nbsp;<code>Nothing</code>. If we find it, we'll return&nbsp;<code>Just something</code>, where something is the value corresponding to that key.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">findKey</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Eq</span> <span class="token hvariable">k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">k</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token hvariable">v</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Maybe</span> <span class="token hvariable">v</span>
<span class="token hvariable">findKey</span> <span class="token hvariable">key</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">Nothing</span>
<span class="token hvariable">findKey</span> <span class="token hvariable">key</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token hvariable">v</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token hvariable">xs</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token hvariable">key</span> <span class="token operator">==</span> <span class="token hvariable">k</span>
                            <span class="token keyword">then</span> <span class="token constant">Just</span> <span class="token hvariable">v</span>
                            <span class="token keyword">else</span> <span class="token hvariable">findKey</span> <span class="token hvariable">key</span> <span class="token hvariable">xs</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Look at the type declaration. It takes a key that can be equated, an association list and then it maybe produces a value. Sounds about right.</p></div><div><p>This is a textbook recursive function that operates on a list. Edge case, splitting a list into a head and a tail, recursive calls, they're all there. This is the classic fold pattern, so let's see how this would be implemented as a fold.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">findKey</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Eq</span> <span class="token hvariable">k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token hvariable">k</span> <span class="token operator">-&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token hvariable">v</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Maybe</span> <span class="token hvariable">v</span>
<span class="token hvariable">findKey</span> <span class="token hvariable">key</span> <span class="token operator">=</span> <span class="token builtin">foldr</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token hvariable">v</span><span class="token punctuation">)</span> <span class="token hvariable">acc</span> <span class="token operator">-&gt;</span> <span class="token keyword">if</span> <span class="token hvariable">key</span> <span class="token operator">==</span> <span class="token hvariable">k</span> <span class="token keyword">then</span> <span class="token constant">Just</span> <span class="token hvariable">v</span> <span class="token keyword">else</span> <span class="token hvariable">acc</span><span class="token punctuation">)</span> <span class="token constant">Nothing</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><em>Note:</em>&nbsp;It's usually better to use folds for this standard list recursion pattern instead of explicitly writing the recursion because they're easier to read and identify. Everyone knows it's a fold when they see the&nbsp;foldr&nbsp;call, but it takes some more thinking to read explicit recursion.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">findKey</span> <span class="token string">"penny"</span> <span class="token hvariable">phoneBook</span>
<span class="token constant">Just</span> <span class="token string">"853-2492"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">findKey</span> <span class="token string">"betty"</span> <span class="token hvariable">phoneBook</span>
<span class="token constant">Just</span> <span class="token string">"555-2938"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">findKey</span> <span class="token string">"wilma"</span> <span class="token hvariable">phoneBook</span>
<span class="token constant">Nothing</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><img alt="legomap" src="http://s3.amazonaws.com/lyah/legomap.png" referrerpolicy="no-referrer"></p></div><div><p>Works like a charm! If we have the girl's phone number, we&nbsp;<code>Just</code>&nbsp;get the number, otherwise we get&nbsp;<code>Nothing</code>.</p></div><div><p>We just implemented the&nbsp;<code>lookup</code>&nbsp;function from&nbsp;<code>Data.List</code>. If we want to find the corresponding value to a key, we have to traverse all the elements of the list until we find it. The&nbsp;<code>Data.Map</code>&nbsp;module offers association lists that are much faster (because they're internally implemented with trees) and also it provides a lot of utility functions. From now on, we'll say we're working with maps instead of association lists.</p></div><div><p>Because&nbsp;<code>Data.Map</code>&nbsp;exports functions that clash with the&nbsp;<code>Prelude</code>&nbsp;and&nbsp;<code>Data.List</code>&nbsp;ones, we'll do a qualified import.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token import-statement"><span class="token keyword">import</span> <span class="token keyword">qualified</span> Data<span class="token punctuation">.</span>Map <span class="token keyword">as</span> Map</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Put this import statement into a script and then load the script via GHCI.</p></div><div><p>Let's go ahead and see what&nbsp;<code>Data.Map</code>&nbsp;has in store for us! Here's the basic rundown of its functions.</p></div><div><p>The&nbsp;<code>fromList</code>&nbsp;function takes an association list (in the form of a list) and returns a map with the same associations.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">"betty"</span><span class="token punctuation">,</span><span class="token string">"555-2938"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"bonnie"</span><span class="token punctuation">,</span><span class="token string">"452-2928"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"lucille"</span><span class="token punctuation">,</span><span class="token string">"205-2928"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">"betty"</span><span class="token punctuation">,</span><span class="token string">"555-2938"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"bonnie"</span><span class="token punctuation">,</span><span class="token string">"452-2928"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"lucille"</span><span class="token punctuation">,</span><span class="token string">"205-2928"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>If there are duplicate keys in the original association list, the duplicates are just discarded. This is the type signature of&nbsp;<code>fromList</code></p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">Map<span class="token punctuation">.</span>fromList</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Ord</span> <span class="token hvariable">k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span> <span class="token hvariable">v</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Map<span class="token punctuation">.</span>Map</span> <span class="token hvariable">k</span> <span class="token hvariable">v</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>It says that it takes a list of pairs of type&nbsp;<code>k</code>&nbsp;and&nbsp;<code>v</code>&nbsp;and returns a map that maps from keys of type&nbsp;<code>k</code>&nbsp;to type&nbsp;<code>v</code>. Notice that when we were doing association lists with normal lists, the keys only had to be equatable (their type belonging to the&nbsp;<code>Eq</code>&nbsp;typeclass) but now they have to be orderable. That's an essential constraint in the&nbsp;<code>Data.Map</code>&nbsp;module. It needs the keys to be orderable so it can arrange them in a tree.</p></div><div><p>You should always use&nbsp;<code>Data.Map</code>&nbsp;for key-value associations unless you have keys that aren't part of the&nbsp;<code>Ord</code>&nbsp;typeclass.</p></div><div><p><code>empty</code>&nbsp;represents an empty map. It takes no arguments, it just returns an empty map.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>empty</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>insert</code>&nbsp;takes a key, a value and a map and returns a new map that's just like the old one, only with the key and value inserted.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>empty</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>insert</span> <span class="token number">3</span> <span class="token number">100</span> <span class="token hvariable">Map<span class="token punctuation">.</span>empty</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>insert</span> <span class="token number">5</span> <span class="token number">600</span> <span class="token punctuation">(</span><span class="token hvariable">Map<span class="token punctuation">.</span>insert</span> <span class="token number">4</span> <span class="token number">200</span> <span class="token punctuation">(</span> <span class="token hvariable">Map<span class="token punctuation">.</span>insert</span> <span class="token number">3</span> <span class="token number">100</span>  <span class="token hvariable">Map<span class="token punctuation">.</span>empty</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>insert</span> <span class="token number">5</span> <span class="token number">600</span> <span class="token operator">.</span> <span class="token hvariable">Map<span class="token punctuation">.</span>insert</span> <span class="token number">4</span> <span class="token number">200</span> <span class="token operator">.</span> <span class="token hvariable">Map<span class="token punctuation">.</span>insert</span> <span class="token number">3</span> <span class="token number">100</span> <span class="token operator">$</span> <span class="token hvariable">Map<span class="token punctuation">.</span>empty</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>We can implement our own&nbsp;<code>fromList</code>&nbsp;by using the empty map,&nbsp;<code>insert</code>&nbsp;and a fold. Watch:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">fromList'</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Ord</span> <span class="token hvariable">k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token hvariable">v</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Map<span class="token punctuation">.</span>Map</span> <span class="token hvariable">k</span> <span class="token hvariable">v</span>
<span class="token hvariable">fromList'</span> <span class="token operator">=</span> <span class="token builtin">foldr</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token hvariable">v</span><span class="token punctuation">)</span> <span class="token hvariable">acc</span> <span class="token operator">-&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>insert</span> <span class="token hvariable">k</span> <span class="token hvariable">v</span> <span class="token hvariable">acc</span><span class="token punctuation">)</span> <span class="token hvariable">Map<span class="token punctuation">.</span>empty</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>It's a pretty straightforward fold. We start of with an empty map and we fold it up from the right, inserting the key value pairs into the accumulator as we go along.</p></div><div><p><code>null</code>&nbsp;checks if a map is empty.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">Map</span><span class="token punctuation">.</span><span class="token builtin">null</span> <span class="token hvariable">Map<span class="token punctuation">.</span>empty</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">Map</span><span class="token punctuation">.</span><span class="token builtin">null</span> <span class="token operator">$</span> <span class="token hvariable">Map<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token constant">False</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>size</code>&nbsp;reports the size of a map.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>size</span> <span class="token hvariable">Map<span class="token punctuation">.</span>empty</span>
<span class="token number">0</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>size</span> <span class="token operator">$</span> <span class="token hvariable">Map<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token number">5</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>singleton</code>&nbsp;takes a key and a value and creates a map that has exactly one mapping.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>singleton</span> <span class="token number">3</span> <span class="token number">9</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>insert</span> <span class="token number">5</span> <span class="token number">9</span> <span class="token operator">$</span> <span class="token hvariable">Map<span class="token punctuation">.</span>singleton</span> <span class="token number">3</span> <span class="token number">9</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>lookup</code>&nbsp;works like the&nbsp;<code>Data.List</code>&nbsp;<code>lookup</code>, only it operates on maps. It returns&nbsp;<code>Just something</code>&nbsp;if it finds something for the key and&nbsp;<code>Nothing</code>&nbsp;if it doesn't.</p></div><div><p><code>member</code>&nbsp;is a predicate takes a key and a map and reports whether the key is in the map or not.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>member</span> <span class="token number">3</span> <span class="token operator">$</span> <span class="token hvariable">Map<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>member</span> <span class="token number">3</span> <span class="token operator">$</span> <span class="token hvariable">Map<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token constant">False</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>map</code>&nbsp;and&nbsp;<code>filter</code>&nbsp;work much like their list equivalents.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">Map</span><span class="token punctuation">.</span><span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">$</span> <span class="token hvariable">Map<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">900</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">Map</span><span class="token punctuation">.</span><span class="token builtin">filter</span> <span class="token builtin">isUpper</span> <span class="token operator">$</span> <span class="token hvariable">Map<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token char string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token char string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token char string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token char string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token char string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token char string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>toList</code>&nbsp;is the inverse of&nbsp;<code>fromList</code>.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>toList</span> <span class="token operator">.</span> <span class="token hvariable">Map<span class="token punctuation">.</span>insert</span> <span class="token number">9</span> <span class="token number">2</span> <span class="token operator">$</span> <span class="token hvariable">Map<span class="token punctuation">.</span>singleton</span> <span class="token number">4</span> <span class="token number">3</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>keys</code>&nbsp;and&nbsp;<code>elems</code>&nbsp;return lists of keys and values respectively.&nbsp;<code>keys</code>&nbsp;is the equivalent of&nbsp;<code>map fst . Map.toList</code>&nbsp;and&nbsp;<code>elems</code>&nbsp;is the equivalent of&nbsp;<code>map snd . Map.toList</code>.</p></div><div><p><code>fromListWith</code>&nbsp;is a cool little function. It acts like&nbsp;<code>fromList</code>, only it doesn't discard duplicate keys but it uses a function supplied to it to decide what to do with them. Let's say that a girl can have several numbers and we have an association list set up like this.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">phoneBook</span> <span class="token operator">=</span> 
    <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">"betty"</span><span class="token punctuation">,</span><span class="token string">"555-2938"</span><span class="token punctuation">)</span>
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"betty"</span><span class="token punctuation">,</span><span class="token string">"342-2492"</span><span class="token punctuation">)</span>
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"bonnie"</span><span class="token punctuation">,</span><span class="token string">"452-2928"</span><span class="token punctuation">)</span>
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"patsy"</span><span class="token punctuation">,</span><span class="token string">"493-2928"</span><span class="token punctuation">)</span>
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"patsy"</span><span class="token punctuation">,</span><span class="token string">"943-2929"</span><span class="token punctuation">)</span>
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"patsy"</span><span class="token punctuation">,</span><span class="token string">"827-9162"</span><span class="token punctuation">)</span>
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"lucille"</span><span class="token punctuation">,</span><span class="token string">"205-2928"</span><span class="token punctuation">)</span>
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"wendy"</span><span class="token punctuation">,</span><span class="token string">"939-8282"</span><span class="token punctuation">)</span>
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"penny"</span><span class="token punctuation">,</span><span class="token string">"853-2492"</span><span class="token punctuation">)</span>
    <span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">"penny"</span><span class="token punctuation">,</span><span class="token string">"555-2111"</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Now if we just use&nbsp;<code>fromList</code>&nbsp;to put that into a map, we'll lose a few numbers! So here's what we'll do:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">phoneBookToMap</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Ord</span> <span class="token hvariable">k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span> <span class="token constant">String</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Map<span class="token punctuation">.</span>Map</span> <span class="token hvariable">k</span> <span class="token constant">String</span>
<span class="token hvariable">phoneBookToMap</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token hvariable">Map<span class="token punctuation">.</span>fromListWith</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">number1</span> <span class="token hvariable">number2</span> <span class="token operator">-&gt;</span> <span class="token hvariable">number1</span> <span class="token operator">++</span> <span class="token string">", "</span> <span class="token operator">++</span> <span class="token hvariable">number2</span><span class="token punctuation">)</span> <span class="token hvariable">xs</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">Map</span><span class="token punctuation">.</span><span class="token builtin">lookup</span> <span class="token string">"patsy"</span> <span class="token operator">$</span> <span class="token hvariable">phoneBookToMap</span> <span class="token hvariable">phoneBook</span>
<span class="token string">"827-9162, 943-2929, 493-2928"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">Map</span><span class="token punctuation">.</span><span class="token builtin">lookup</span> <span class="token string">"wendy"</span> <span class="token operator">$</span> <span class="token hvariable">phoneBookToMap</span> <span class="token hvariable">phoneBook</span>
<span class="token string">"939-8282"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">Map</span><span class="token punctuation">.</span><span class="token builtin">lookup</span> <span class="token string">"betty"</span> <span class="token operator">$</span> <span class="token hvariable">phoneBookToMap</span> <span class="token hvariable">phoneBook</span>
<span class="token string">"342-2492, 555-2938"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>If a duplicate key is found, the function we pass is used to combine the values of those keys into some other value. We could also first make all the values in the association list singleton lists and then we can use&nbsp;<code>++</code>&nbsp;to combine the numbers.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">phoneBookToMap</span> <span class="token operator">::</span> <span class="token punctuation">(</span><span class="token constant">Ord</span> <span class="token hvariable">k</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span> <span class="token hvariable">a</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">-&gt;</span> <span class="token constant">Map<span class="token punctuation">.</span>Map</span> <span class="token hvariable">k</span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span>
<span class="token hvariable">phoneBookToMap</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token hvariable">Map<span class="token punctuation">.</span>fromListWith</span> <span class="token punctuation">(</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token operator">$</span> <span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token hvariable">v</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token hvariable">k</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token hvariable">v</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token hvariable">xs</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">Map</span><span class="token punctuation">.</span><span class="token builtin">lookup</span> <span class="token string">"patsy"</span> <span class="token operator">$</span> <span class="token hvariable">phoneBookToMap</span> <span class="token hvariable">phoneBook</span>
<span class="token punctuation">[</span><span class="token string">"827-9162"</span><span class="token punctuation">,</span><span class="token string">"943-2929"</span><span class="token punctuation">,</span><span class="token string">"493-2928"</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Pretty neat! Another use case is if we're making a map from an association list of numbers and when a duplicate key is found, we want the biggest value for the key to be kept.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>fromListWith</span> <span class="token builtin">max</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Or we could choose to add together values on the same keys.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>fromListWith</span> <span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">108</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">62</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">37</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>insertWith</code>&nbsp;is to&nbsp;<code>insert</code>&nbsp;what&nbsp;<code>fromListWith</code>&nbsp;is to&nbsp;<code>fromList</code>. It inserts a key-value pair into a map, but if that map already contains the key, it uses the function passed to it to determine what to do.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Map<span class="token punctuation">.</span>insertWith</span> <span class="token punctuation">(</span><span class="token operator">+</span><span class="token punctuation">)</span> <span class="token number">3</span> <span class="token number">100</span> <span class="token operator">$</span> <span class="token hvariable">Map<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">103</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">339</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">104</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">103</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">339</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>These were just a few functions from&nbsp;<code>Data.Map</code>. You can see a complete list of functions in the&nbsp;<a data-tooltip-position="top" aria-label="http://www.haskell.org/ghc/docs/latest/html/libraries/containers/Data-Map.html#v%3Aassocs" rel="noopener" class="external-link" href="http://www.haskell.org/ghc/docs/latest/html/libraries/containers/Data-Map.html#v%3Aassocs" target="_blank">documentation</a>.</p></div><div><h2 data-heading="Data.Set" id="Data.Set" style="display: flex;"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Data.Set</h2></div><div><p><img alt="legosets" src="http://s3.amazonaws.com/lyah/legosets.png" referrerpolicy="no-referrer"></p></div><div><p>The&nbsp;<code>Data.Set</code>&nbsp;module offers us, well, sets. Like sets from mathematics. Sets are kind of like a cross between lists and maps. All the elements in a set are unique. And because they're internally implemented with trees (much like maps in&nbsp;<code>Data.Map</code>), they're ordered. Checking for membership, inserting, deleting, etc. is much faster than doing the same thing with lists. The most common operation when dealing with sets are inserting into a set, checking for membership and converting a set to a list.</p></div><div><p>Because the names in&nbsp;<code>Data.Set</code>&nbsp;clash with a lot of&nbsp;<code>Prelude</code>&nbsp;and&nbsp;<code>Data.List</code>&nbsp;names, we do a qualified import.</p></div><div><p>Put this import statement in a script:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token import-statement"><span class="token keyword">import</span> <span class="token keyword">qualified</span> Data<span class="token punctuation">.</span>Set <span class="token keyword">as</span> Set</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>And then load the script via GHCI.</p></div><div><p>Let's say we have two pieces of text. We want to find out which characters were used in both of them.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">text1</span> <span class="token operator">=</span> <span class="token string">"I just had an anime dream. Anime... Reality... Are they so different?"</span>
<span class="token hvariable">text2</span> <span class="token operator">=</span> <span class="token string">"The old man left his garbage can out and now his trash is all over my lawn!"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>The&nbsp;<code>fromList</code>&nbsp;function works much like you would expect. It takes a list and converts it into a set.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">set1</span> <span class="token operator">=</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token hvariable">text1</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">set2</span> <span class="token operator">=</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token hvariable">text2</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">set1</span>
<span class="token hvariable">fromList</span> <span class="token string">" .?AIRadefhijlmnorstuy"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">set2</span>
<span class="token hvariable">fromList</span> <span class="token string">" !Tabcdefghilmnorstuvwy"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>As you can see, the items are ordered and each element is unique. Now let's use the&nbsp;<code>intersection</code>&nbsp;function to see which elements they both share.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Set<span class="token punctuation">.</span>intersection</span> <span class="token hvariable">set1</span> <span class="token hvariable">set2</span>
<span class="token hvariable">fromList</span> <span class="token string">" adefhilmnorstuy"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>We can use the&nbsp;<code>difference</code>&nbsp;function to see which letters are in the first set but aren't in the second one and vice versa.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Set<span class="token punctuation">.</span>difference</span> <span class="token hvariable">set1</span> <span class="token hvariable">set2</span>
<span class="token hvariable">fromList</span> <span class="token string">".?AIRj"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Set<span class="token punctuation">.</span>difference</span> <span class="token hvariable">set2</span> <span class="token hvariable">set1</span>
<span class="token hvariable">fromList</span> <span class="token string">"!Tbcgvw"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Or we can see all the unique letters used in both sentences by using&nbsp;<code>union</code>.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Set<span class="token punctuation">.</span>union</span> <span class="token hvariable">set1</span> <span class="token hvariable">set2</span>
<span class="token hvariable">fromList</span> <span class="token string">" !.?AIRTabcdefghijlmnorstuvwy"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>The&nbsp;<code>null</code>,&nbsp;<code>size</code>,&nbsp;<code>member</code>,&nbsp;<code>empty</code>,&nbsp;<code>singleton</code>,&nbsp;<code>insert</code>&nbsp;and&nbsp;<code>delete</code>&nbsp;functions all work like you'd expect them to.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">Set</span><span class="token punctuation">.</span><span class="token builtin">null</span> <span class="token hvariable">Set<span class="token punctuation">.</span>empty</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">Set</span><span class="token punctuation">.</span><span class="token builtin">null</span> <span class="token operator">$</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token constant">False</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Set<span class="token punctuation">.</span>size</span> <span class="token operator">$</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token number">3</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Set<span class="token punctuation">.</span>singleton</span> <span class="token number">9</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Set<span class="token punctuation">.</span>insert</span> <span class="token number">4</span> <span class="token operator">$</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Set<span class="token punctuation">.</span>insert</span> <span class="token number">8</span> <span class="token operator">$</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token operator">..</span><span class="token number">10</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Set<span class="token punctuation">.</span>delete</span> <span class="token number">4</span> <span class="token operator">$</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>We can also check for subsets or proper subset. Set A is a subset of set B if B contains all the elements that A does. Set A is a proper subset of set B if B contains all the elements that A does but has more elements.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">`Set.isSubsetOf`</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">`Set.isSubsetOf`</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token constant">True</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">`Set.isProperSubsetOf`</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token constant">False</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">`Set.isSubsetOf`</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token constant">False</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>We can also&nbsp;<code>map</code>&nbsp;over sets and&nbsp;<code>filter</code>&nbsp;them.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">Set</span><span class="token punctuation">.</span><span class="token builtin">filter</span> <span class="token builtin">odd</span> <span class="token operator">$</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token constant">Set</span><span class="token punctuation">.</span><span class="token builtin">map</span> <span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">$</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token hvariable">fromList</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Sets are often used to weed a list of duplicates from a list by first making it into a set with&nbsp;<code>fromList</code>&nbsp;and then converting it back to a list with&nbsp;<code>toList</code>. The&nbsp;<code>Data.List</code>&nbsp;function&nbsp;<code>nub</code>&nbsp;already does that, but weeding out duplicates for large lists is much faster if you cram them into a set and then convert them back to a list than using&nbsp;<code>nub</code>. But using&nbsp;<code>nub</code>&nbsp;only requires the type of the list's elements to be part of the&nbsp;<code>Eq</code>&nbsp;typeclass, whereas if you want to cram elements into a set, the type of the list has to be in&nbsp;<code>Ord</code>.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token keyword">let</span> <span class="token hvariable">setNub</span> <span class="token hvariable">xs</span> <span class="token operator">=</span> <span class="token hvariable">Set<span class="token punctuation">.</span>toList</span> <span class="token operator">$</span> <span class="token hvariable">Set<span class="token punctuation">.</span>fromList</span> <span class="token hvariable">xs</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">setNub</span> <span class="token string">"HEY WHATS CRACKALACKIN"</span>
<span class="token string">" ACEHIKLNRSTWY"</span>
<span class="token hvariable">ghci</span><span class="token operator">&gt;</span> <span class="token hvariable">nub</span> <span class="token string">"HEY WHATS CRACKALACKIN"</span>
<span class="token string">"HEY WATSCRKLIN"</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>setNub</code>&nbsp;is generally faster than&nbsp;<code>nub</code>&nbsp;on big lists but as you can see,&nbsp;<code>nub</code>&nbsp;preserves the ordering of the list's elements, while&nbsp;<code>setNub</code>&nbsp;does not.</p></div><div><h2 data-heading="Making our own modules" id="Making_our_own_modules" style="display: flex;"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Making our own modules</h2></div><div><p><img alt="making modules" src="http://s3.amazonaws.com/lyah/making_modules.png" referrerpolicy="no-referrer"></p></div><div><p>We've looked at some cool modules so far, but how do we make our own module? Almost every programming language enables you to split your code up into several files and Haskell is no different. When making programs, it's good practice to take functions and types that work towards a similar purpose and put them in a module. That way, you can easily reuse those functions in other programs by just importing your module.</p></div><div><p>Let's see how we can make our own modules by making a little module that provides some functions for calculating the volume and area of a few geometrical objects. We'll start by creating a file called&nbsp;<code>Geometry.hs</code>.</p></div><div><p>We say that a module&nbsp;<em>exports</em>&nbsp;functions. What that means is that when I import a module, I can use the functions that it exports. It can define functions that its functions call internally, but we can only see and use the ones that it exports.</p></div><div><p>At the beginning of a module, we specify the module name. If we have a file called&nbsp;<code>Geometry.hs</code>, then we should name our module&nbsp;<code>Geometry</code>. Then, we specify the functions that it exports and after that, we can start writing the functions. So we'll start with this.</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token keyword">module</span> <span class="token constant">Geometry</span>
<span class="token punctuation">(</span> <span class="token hvariable">sphereVolume</span>
<span class="token punctuation">,</span> <span class="token hvariable">sphereArea</span>
<span class="token punctuation">,</span> <span class="token hvariable">cubeVolume</span>
<span class="token punctuation">,</span> <span class="token hvariable">cubeArea</span>
<span class="token punctuation">,</span> <span class="token hvariable">cuboidArea</span>
<span class="token punctuation">,</span> <span class="token hvariable">cuboidVolume</span>
<span class="token punctuation">)</span> <span class="token keyword">where</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>As you can see, we'll be doing areas and volumes for spheres, cubes and cuboids. Let's go ahead and define our functions then:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token keyword">module</span> <span class="token constant">Geometry</span>
<span class="token punctuation">(</span> <span class="token hvariable">sphereVolume</span>
<span class="token punctuation">,</span> <span class="token hvariable">sphereArea</span>
<span class="token punctuation">,</span> <span class="token hvariable">cubeVolume</span>
<span class="token punctuation">,</span> <span class="token hvariable">cubeArea</span>
<span class="token punctuation">,</span> <span class="token hvariable">cuboidArea</span>
<span class="token punctuation">,</span> <span class="token hvariable">cuboidVolume</span>
<span class="token punctuation">)</span> <span class="token keyword">where</span>

<span class="token hvariable">sphereVolume</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">sphereVolume</span> <span class="token hvariable">radius</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">4.0</span> <span class="token operator">/</span> <span class="token number">3.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token builtin">pi</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token hvariable">radius</span> <span class="token operator">^</span> <span class="token number">3</span><span class="token punctuation">)</span>

<span class="token hvariable">sphereArea</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">sphereArea</span> <span class="token hvariable">radius</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token builtin">pi</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token hvariable">radius</span> <span class="token operator">^</span> <span class="token number">2</span><span class="token punctuation">)</span>

<span class="token hvariable">cubeVolume</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">cubeVolume</span> <span class="token hvariable">side</span> <span class="token operator">=</span> <span class="token hvariable">cuboidVolume</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span>

<span class="token hvariable">cubeArea</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">cubeArea</span> <span class="token hvariable">side</span> <span class="token operator">=</span> <span class="token hvariable">cuboidArea</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span>

<span class="token hvariable">cuboidVolume</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">cuboidVolume</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token hvariable">c</span> <span class="token operator">=</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token operator">*</span> <span class="token hvariable">c</span>

<span class="token hvariable">cuboidArea</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">cuboidArea</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token hvariable">c</span> <span class="token operator">=</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">c</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">c</span> <span class="token hvariable">b</span> <span class="token operator">*</span> <span class="token number">2</span>

<span class="token hvariable">rectangleArea</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token operator">=</span> <span class="token hvariable">a</span> <span class="token operator">*</span> <span class="token hvariable">b</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Pretty standard geometry right here. There are a few things to take note of though. Because a cube is only a special case of a cuboid, we defined its area and volume by treating it as a cuboid whose sides are all of the same length. We also defined a helper function called&nbsp;<code>rectangleArea</code>, which calculates a rectangle's area based on the lenghts of its sides. It's rather trivial because it's just multiplication. Notice that we used it in our functions in the module (namely&nbsp;<code>cuboidArea</code>&nbsp;and&nbsp;<code>cuboidVolume</code>) but we didn't export it! Because we want our module to just present functions for dealing with three dimensional objects, we used&nbsp;<code>rectangleArea</code>&nbsp;but we didn't export it.</p></div><div><p>When making a module, we usually export only those functions that act as a sort of interface to our module so that the implementation is hidden. If someone is using our&nbsp;<code>Geometry</code>&nbsp;module, they don't have to concern themselves with functions that we don't export. We can decide to change those functions completely or delete them in a newer version (we could delete&nbsp;<code>rectangleArea</code>&nbsp;and just use&nbsp;<code>*</code>&nbsp;instead) and no one will mind because we weren't exporting them in the first place.</p></div><div><p>To use our module, we just do:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token import-statement"><span class="token keyword">import</span> Geometry</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>Geometry.hs</code>&nbsp;has to be in the same folder that the program that's importing it is in, though.</p></div><div><p>Modules can also be given a hierarchical structures. Each module can have a number of sub-modules and they can have sub-modules of their own. Let's section these functions off so that&nbsp;<code>Geometry</code>&nbsp;is a module that has three sub-modules, one for each type of object.</p></div><div><p>First, we'll make a folder called&nbsp;<code>Geometry</code>. Mind the capital G. In it, we'll place three files:&nbsp;<code>Sphere.hs</code>,&nbsp;<code>Cuboid.hs</code>, and&nbsp;<code>Cube.hs</code>. Here's what the files will contain:</p></div><div><p><code>Sphere.hs</code></p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token keyword">module</span> <span class="token constant">Geometry<span class="token punctuation">.</span>Sphere</span>
<span class="token punctuation">(</span> <span class="token hvariable">volume</span>
<span class="token punctuation">,</span> <span class="token hvariable">area</span>
<span class="token punctuation">)</span> <span class="token keyword">where</span>

<span class="token hvariable">volume</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">volume</span> <span class="token hvariable">radius</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">4.0</span> <span class="token operator">/</span> <span class="token number">3.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token builtin">pi</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token hvariable">radius</span> <span class="token operator">^</span> <span class="token number">3</span><span class="token punctuation">)</span>

<span class="token hvariable">area</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">area</span> <span class="token hvariable">radius</span> <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token builtin">pi</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token hvariable">radius</span> <span class="token operator">^</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>Cuboid.hs</code></p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token keyword">module</span> <span class="token constant">Geometry<span class="token punctuation">.</span>Cuboid</span>
<span class="token punctuation">(</span> <span class="token hvariable">volume</span>
<span class="token punctuation">,</span> <span class="token hvariable">area</span>
<span class="token punctuation">)</span> <span class="token keyword">where</span>

<span class="token hvariable">volume</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">volume</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token hvariable">c</span> <span class="token operator">=</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token operator">*</span> <span class="token hvariable">c</span>

<span class="token hvariable">area</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">area</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token hvariable">c</span> <span class="token operator">=</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">c</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token hvariable">rectangleArea</span> <span class="token hvariable">c</span> <span class="token hvariable">b</span> <span class="token operator">*</span> <span class="token number">2</span>

<span class="token hvariable">rectangleArea</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">rectangleArea</span> <span class="token hvariable">a</span> <span class="token hvariable">b</span> <span class="token operator">=</span> <span class="token hvariable">a</span> <span class="token operator">*</span> <span class="token hvariable">b</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p><code>Cube.hs</code></p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token keyword">module</span> <span class="token constant">Geometry<span class="token punctuation">.</span>Cube</span>
<span class="token punctuation">(</span> <span class="token hvariable">volume</span>
<span class="token punctuation">,</span> <span class="token hvariable">area</span>
<span class="token punctuation">)</span> <span class="token keyword">where</span>

<span class="token import-statement"><span class="token keyword">import</span> <span class="token keyword">qualified</span> Geometry<span class="token punctuation">.</span>Cuboid <span class="token keyword">as</span> Cuboid</span>

<span class="token hvariable">volume</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">volume</span> <span class="token hvariable">side</span> <span class="token operator">=</span> <span class="token hvariable">Cuboid<span class="token punctuation">.</span>volume</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span>

<span class="token hvariable">area</span> <span class="token operator">::</span> <span class="token constant">Float</span> <span class="token operator">-&gt;</span> <span class="token constant">Float</span>
<span class="token hvariable">area</span> <span class="token hvariable">side</span> <span class="token operator">=</span> <span class="token hvariable">Cuboid<span class="token punctuation">.</span>area</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span> <span class="token hvariable">side</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>Alright! So first is&nbsp;<code>Geometry.Sphere</code>. Notice how we placed it in a folder called&nbsp;<code>Geometry</code>&nbsp;and then defined the module name as&nbsp;<code>Geometry.Sphere</code>. We did the same for the cuboid. Also notice how in all three sub-modules, we defined functions with the same names. We can do this because they're separate modules. We want to use functions from&nbsp;<code>Geometry.Cuboid</code>&nbsp;in&nbsp;<code>Geometry.Cube</code>&nbsp;but we can't just straight up do&nbsp;<code>import Geometry.Cuboid</code>&nbsp;because it exports functions with the same names as&nbsp;<code>Geometry.Cube</code>. That's why we do a qualified import and all is well.</p></div><div><p>So now if we're in a file that's on the same level as the&nbsp;<code>Geometry</code>&nbsp;folder, we can do, say:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token import-statement"><span class="token keyword">import</span> Geometry<span class="token punctuation">.</span>Sphere</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>And then we can call&nbsp;<code>area</code>&nbsp;and&nbsp;<code>volume</code>&nbsp;and they'll give us the area and volume for a sphere. And if we want to juggle two or more of these modules, we have to do qualified imports because they export functions with the same names. So we just do something like:</p></div><div><pre class="language-haskell" tabindex="0"><code class="language-haskell is-loaded"><span class="token import-statement"><span class="token keyword">import</span> <span class="token keyword">qualified</span> Geometry<span class="token punctuation">.</span>Sphere <span class="token keyword">as</span> Sphere</span>
<span class="token import-statement"><span class="token keyword">import</span> <span class="token keyword">qualified</span> Geometry<span class="token punctuation">.</span>Cuboid <span class="token keyword">as</span> Cuboid</span>
<span class="token import-statement"><span class="token keyword">import</span> <span class="token keyword">qualified</span> Geometry<span class="token punctuation">.</span>Cube <span class="token keyword">as</span> Cube</span>
</code><button class="copy-code-button">Копировать</button></pre></div><div><p>And then we can call&nbsp;<code>Sphere.area</code>,&nbsp;<code>Sphere.volume</code>,&nbsp;<code>Cuboid.area</code>, etc. and each will calculate the area or volume for their corresponding object.</p></div><div><p>The next time you find yourself writing a file that's really big and has a lot of functions, try to see which functions serve some common purpose and then see if you can put them in their own module. You'll be able to just import your module the next time you're writing a program that requires some of the same functionality.</p></div><div class="mod-footer"></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-content"><span class="sidebar-section-header">Interactive Graph</span><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-arrow-up-right"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" width="512px" height="512px"></canvas>
		</div>
		</div><div class="tree-container outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button"><iconify-icon icon="ph:arrows-in-line-horizontal-bold" width="18px" height="18px" rotate="90deg" color="currentColor"></iconify-icon></button></div><div class="tree-scroll-area"><div class="tree-item mod-tree-heading" data-depth="1"><div class="tree-item-contents"><a class="tree-item-link" href="#Modules"><span class="tree-item-title">Modules</span></a></div><div class="tree-item-children"><div class="tree-item mod-tree-heading" data-depth="2"><div class="tree-item-contents"><a class="tree-item-link" href="#Loading_modules"><span class="tree-item-title">Loading modules</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-heading" data-depth="2"><div class="tree-item-contents"><a class="tree-item-link" href="#Data.List"><span class="tree-item-title">Data.List</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-heading" data-depth="2"><div class="tree-item-contents"><a class="tree-item-link" href="#Data.Char"><span class="tree-item-title">Data.Char</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-heading" data-depth="2"><div class="tree-item-contents"><a class="tree-item-link" href="#Data.Map"><span class="tree-item-title">Data.Map</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-heading" data-depth="2"><div class="tree-item-contents"><a class="tree-item-link" href="#Data.Set"><span class="tree-item-title">Data.Set</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-heading" data-depth="2"><div class="tree-item-contents"><a class="tree-item-link" href="#Making_our_own_modules"><span class="tree-item-title">Making our own modules</span></a></div><div class="tree-item-children"></div></div></div></div></div></div></div></div></div></body></html>